<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>–ì—Ä–∞—Ñ–∏–∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏ –æ–±—É—á–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã ICONA</title>
    <link rel="icon" type="image/png" href="favicon.png">
    
    <!-- Open Graph –º–µ—Ç–∞—Ç–µ–≥–∏ –¥–ª—è –ø—Ä–µ–≤—å—é —Å—Å—ã–ª–æ–∫ -->
    <meta property="og:title" content="–ì—Ä–∞—Ñ–∏–∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏ –æ–±—É—á–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã ICONA">
    <meta property="og:description" content="–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ì–∞–Ω—Ç–∞ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏ –æ–±—É—á–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–µ ICONA">
    <meta property="og:image" content="logo.png">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <!-- html2pdf.js –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (–ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –≤ PDF) -->
    <!-- –õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è XLSX –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Å–µ—Ç–∏ (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç CDN).
         –§–∞–π–ª xlsx.min.js –¥–æ–ª–∂–µ–Ω –ª–µ–∂–∞—Ç—å —Ä—è–¥–æ–º —Å implementation_schedule.html –∏–ª–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø–∞–ø–∫–µ. -->
    <script src="xlsx.min.js"></script>
    <style>
        :root {
            --color-primary: #1e88e5;
            --color-primary-hover: #1565c0;
            --color-bg: #f5f5f5;
            --color-surface: #ffffff;
            --color-text: #1a1a1a;
            --color-text-secondary: #666666;
            --color-border: #e0e0e0;
            --color-success: #4caf50;
            --color-warning: #ff9800;
            --color-error: #f44336;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ */
        [data-theme="dark"] {
            --color-primary: #42a5f5;
            --color-primary-hover: #64b5f6;
            --color-bg: #121212;
            --color-surface: #1e1e1e;
            --color-text: #e0e0e0;
            --color-text-secondary: #b0b0b0;
            --color-border: #333333;
            --color-success: #66bb6a;
            --color-warning: #ffa726;
            --color-error: #ef5350;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.3);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            opacity: 0;
            animation: fadeInFromFog 1.5s ease-out forwards;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∏–∑ —Ç—É–º–∞–Ω–∞ */
        @keyframes fadeInFromFog {
            0% {
                opacity: 0;
                filter: blur(30px);
                transform: scale(0.95);
            }
            50% {
                opacity: 0.3;
                filter: blur(15px);
                transform: scale(0.98);
            }
            100% {
                opacity: 1;
                filter: blur(0px);
                transform: scale(1);
            }
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç —Ç—É–º–∞–Ω–∞ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 50% 50%, rgba(200, 230, 255, 0.4) 0%, transparent 60%),
                radial-gradient(circle at 30% 30%, rgba(173, 216, 230, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(135, 206, 250, 0.3) 0%, transparent 50%);
            animation: fogDissolve 1.5s ease-out forwards;
            z-index: 9999;
            pointer-events: none;
        }

        [data-theme="dark"] body::before {
            background: 
                radial-gradient(circle at 50% 50%, rgba(30, 30, 50, 0.6) 0%, transparent 60%),
                radial-gradient(circle at 30% 30%, rgba(20, 20, 40, 0.5) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(25, 25, 45, 0.5) 0%, transparent 50%);
        }

        @keyframes fogDissolve {
            0% {
                opacity: 1;
                transform: scale(1.2);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.1);
            }
            100% {
                opacity: 0;
                transform: scale(1);
            }
        }

        .container {
            /* –ë—ã–ª–æ 1400px ‚Äî —É–≤–µ–ª–∏—á–∏–ª–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 400px –ø–æ –≤–∞—à–µ–π –ø—Ä–æ—Å—å–±–µ */
            max-width: 1800px;
            margin: 0 auto;
            padding: 20px;
            animation: containerAppear 1.5s ease-out 0.3s both;
        }

        @keyframes containerAppear {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        header {
            position: relative; /* –î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–Ω–æ–ø–æ–∫ */
            background: var(--color-surface);
            padding: 30px 20px;
            border-bottom: 2px solid var(--color-primary);
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: var(--shadow-sm);
            position: relative;
        }

        /* –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã */
        .theme-toggle-btn {
            position: absolute !important;
            top: 30px !important;
            right: 80px !important;
            left: auto !important;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #42a5f5 0%, #2196f3 100%);
            border: 2px solid #2c2c2c;
            cursor: pointer;
            display: flex !important;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            z-index: 1001 !important;
            overflow: visible;
            visibility: visible !important;
            opacity: 1 !important;
        }

        /* –ó–æ–ª–æ—Ç–∞—è —Ç–æ—á–∫–∞, –≤—Ä–∞—â–∞—é—â–∞—è—Å—è –ø–æ –∫—Ä—É–≥—É –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        .theme-toggle-btn::after {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
            box-shadow: 0 0 4px rgba(255, 215, 0, 0.8);
            top: 50%;
            left: 50%;
            transform: translateX(-50%) translateY(-20px);
            opacity: 0;
            z-index: 1002;
            transition: opacity 0.3s ease;
        }

        /* –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–æ–ª–æ—Ç—É—é —Ç–æ—á–∫—É –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é */
        .theme-toggle-btn:hover::after {
            opacity: 1;
            animation: rotateDot 2s linear infinite;
        }

        .theme-toggle-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 12px rgba(66, 165, 245, 0.4);
        }

        .theme-toggle-btn::before {
            content: 'üåô';
            font-size: 20px;
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55), opacity 0.3s ease;
            display: inline-block;
            z-index: 1003;
            position: relative;
        }

        [data-theme="dark"] .theme-toggle-btn::before {
            content: '‚òÄÔ∏è';
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã */
        .theme-toggle-btn.animating {
            animation: themeTogglePulse 1.2s ease-in-out;
        }

        .theme-toggle-btn.animating::before {
            animation: themeIconRotate 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes themeTogglePulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
            }
        }

        @keyframes themeIconRotate {
            0% {
                transform: rotate(0deg) scale(1);
                opacity: 1;
            }
            50% {
                transform: rotate(180deg) scale(0.5);
                opacity: 0.3;
            }
            100% {
                transform: rotate(360deg) scale(1);
                opacity: 1;
            }
        }

        .theme-toggle-btn:hover .theme-tooltip {
            opacity: 1 !important;
            visibility: visible !important;
            transition-delay: 1s;
        }

        .theme-tooltip {
            position: absolute;
            bottom: calc(100% + 8px);
            left: 50%;
            transform: translateX(-50%);
            background: #000000;
            color: #ffffff;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.75rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 1001;
        }

        .theme-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: #000000;
        }

        /* –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É */
        .profile-btn {
            position: absolute !important;
            top: 30px !important;
            right: 30px !important;
            left: auto !important;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #42a5f5 0%, #2196f3 100%);
            border: 2px solid #2c2c2c;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow: visible;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è –∑–æ–ª–æ—Ç–æ–π —Ç–æ—á–∫–∏ –ø–æ –∫—Ä—É–≥—É –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ */
        @keyframes rotateDot {
            0% {
                transform: translateX(-50%) rotate(0deg) translateY(20px) rotate(0deg);
            }
            100% {
                transform: translateX(-50%) rotate(360deg) translateY(20px) rotate(-360deg);
            }
        }

        /* –ó–æ–ª–æ—Ç–∞—è —Ç–æ—á–∫–∞, –≤—Ä–∞—â–∞—é—â–∞—è—Å—è –ø–æ –∫—Ä—É–≥—É –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        .profile-btn::after {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
            box-shadow: 0 0 4px rgba(255, 215, 0, 0.8);
            top: 50%;
            left: 50%;
            transform: translateX(-50%) translateY(-20px);
            opacity: 0;
            z-index: 1001;
            transition: opacity 0.3s ease;
        }

        /* –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–æ–ª–æ—Ç—É—é —Ç–æ—á–∫—É –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é */
        .profile-btn:hover::after {
            opacity: 1;
            animation: rotateDot 2s linear infinite;
        }

        .profile-btn:hover:not(.animating) {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 12px rgba(66, 165, 245, 0.4);
        }

        /* –ò–∫–æ–Ω–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è (–≥–æ–ª–æ–≤–∞) */
        .profile-btn .profile-icon-head {
            position: absolute;
            width: 18px;
            height: 18px;
            background: var(--color-surface);
            border-radius: 50%;
            top: 8px;
            z-index: 1002;
        }

        /* –ì–ª–∞–∑–∞ –ø—Ä–æ—Ñ–∏–ª—è */
        .profile-btn .profile-icon-head::before,
        .profile-btn .profile-icon-head::after {
            content: '';
            position: absolute;
            width: 2.5px;
            height: 2.5px;
            background: #42a5f5;
            border-radius: 50%;
            top: 5.5px;
        }

        .profile-btn .profile-icon-head::before {
            left: 4.5px;
        }

        .profile-btn .profile-icon-head::after {
            right: 4.5px;
        }

        /* –†–æ—Ç –ø—Ä–æ—Ñ–∏–ª—è */
        .profile-icon-mouth {
            position: absolute;
            width: 7px;
            height: 3.5px;
            border: 2px solid #42a5f5;
            border-top: none;
            border-radius: 0 0 7px 7px;
            top: 17px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1003;
            background: transparent;
        }

        /* –ò–∫–æ–Ω–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è (–ø–ª–µ—á–∏) */
        .profile-btn .profile-icon-shoulders {
            position: absolute;
            width: 22px;
            height: 12px;
            background: white;
            border-radius: 12px 12px 0 0;
            bottom: 6px;
            z-index: 1002;
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è */
        .profile-btn[data-tooltip] {
            position: relative;
        }

        .profile-btn[data-tooltip]:hover .profile-tooltip {
            opacity: 1;
            transition-delay: 1s;
        }

        .profile-tooltip {
            position: absolute;
            bottom: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
            background: #000000 !important;
            color: white !important;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.75rem;
            white-space: normal;
            min-width: max-content;
            max-width: 200px;
            word-wrap: break-word;
            text-align: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 10001;
            width: auto;
            height: auto;
        }

        /* –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ –∫ –≤—ã–±–æ—Ä—É –∫–æ–º–ø–∞–Ω–∏–π (—Å–∫—Ä—ã—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∏–∂–µ) */
        .companies-btn {
            display: none !important;
        }

        /* –ó–æ–ª–æ—Ç–∞—è —Ç–æ—á–∫–∞, –≤—Ä–∞—â–∞—é—â–∞—è—Å—è –ø–æ –∫—Ä—É–≥—É –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        .companies-btn::after {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
            box-shadow: 0 0 4px rgba(255, 215, 0, 0.8);
            top: 50%;
            left: 50%;
            transform: translateX(-50%) translateY(-20px);
            opacity: 0;
            z-index: 1001;
            transition: opacity 0.3s ease;
        }

        /* –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–æ–ª–æ—Ç—É—é —Ç–æ—á–∫—É –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é */
        .companies-btn:hover::after {
            opacity: 1;
            animation: rotateDot 2s linear infinite;
        }

        .companies-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
        }

        /* –ò–∫–æ–Ω–∫–∞ –∫–≤–∞–¥—Ä–∞—Ç–∞ —Å —Ç–æ—á–∫–æ–π –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π */
        .companies-btn .companies-icon {
            width: 18px;
            height: 18px;
            border: 2px solid white;
            border-radius: 4px;
            position: absolute;
            z-index: 1002;
        }

        /* –¢–æ—á–∫–∞ –≤–Ω—É—Ç—Ä–∏ –∫–≤–∞–¥—Ä–∞—Ç–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π */
        .companies-btn .companies-icon::before {
            content: '';
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 4px;
            left: 4px;
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π */
        .companies-btn {
            position: relative;
        }
        
        .companies-btn:hover .companies-tooltip {
            opacity: 1 !important;
            visibility: visible !important;
            transition-delay: 1s;
        }

        .companies-tooltip {
            position: absolute;
            top: 50%;
            right: calc(100% + 8px);
            transform: translateY(-50%);
            padding: 8px 12px;
            border-radius: 8px;
            background: #000000;
            color: #ffffff;
            font-size: 0.75rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 10001;
        }

        /* –¢–æ—á–∫–∞ –≤–Ω—É—Ç—Ä–∏ –∫–≤–∞–¥—Ä–∞—Ç–∞ */
        .companies-btn > span {
            content: '';
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 4px;
            left: 4px;
            z-index: 2;
        }

        /* –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ */
        .logout-btn {
            position: absolute;
            top: 80px;
            right: 30px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #42a5f5 0%, #2196f3 100%);
            border: 2px solid #2c2c2c;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow: visible;
        }

        /* –ó–æ–ª–æ—Ç–∞—è —Ç–æ—á–∫–∞, –≤—Ä–∞—â–∞—é—â–∞—è—Å—è –ø–æ –∫—Ä—É–≥—É –¥–ª—è –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        .logout-btn::after {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
            box-shadow: 0 0 4px rgba(255, 215, 0, 0.8);
            top: 50%;
            left: 50%;
            transform: translateX(-50%) translateY(-20px);
            opacity: 0;
            z-index: 1001;
            transition: opacity 0.3s ease;
        }

        /* –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–æ–ª–æ—Ç—É—é —Ç–æ—á–∫—É –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é */
        .logout-btn:hover::after {
            opacity: 1;
            animation: rotateDot 2s linear infinite;
        }

        .logout-btn:hover:not(.animating) {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 12px rgba(66, 165, 245, 0.4);
        }

        /* –ò–∫–æ–Ω–∫–∞ –≤—ã—Ö–æ–¥–∞ (—Å—Ç—Ä–µ–ª–∫–∞ –≤–ª–µ–≤–æ) */
        .logout-btn .logout-icon {
            width: 12px;
            height: 12px;
            border-left: 3px solid white;
            border-top: 3px solid white;
            transform: rotate(-45deg) translateX(2px);
            z-index: 1002;
            position: absolute;
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞ */
        .logout-btn[data-tooltip]:hover .logout-tooltip {
            opacity: 1;
            transform: translate(-6px, -50%);
            transition-delay: 1s;
        }

        .logout-tooltip {
            content: attr(data-tooltip);
            position: absolute;
            right: 100%;
            top: 50%;
            transform: translate(0, -50%);
            padding: 8px 12px;
            border-radius: 8px;
            background: #000000 !important;
            color: #fff !important;
            font-size: 0.75rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: right center;
            margin-right: 8px;
            z-index: 10001;
        }

        /* –ù–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π –≤—ã—Ö–æ–¥–∞ */
        .companies-bottom-btn {
            position: absolute !important;
            top: 130px;
            right: 30px !important;
            left: auto !important;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #42a5f5 0%, #2196f3 100%);
            border: 2px solid #2c2c2c;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow: visible;
        }

        /* –ó–æ–ª–æ—Ç–∞—è —Ç–æ—á–∫–∞, –≤—Ä–∞—â–∞—é—â–∞—è—Å—è –ø–æ –∫—Ä—É–≥—É –¥–ª—è –Ω–∏–∂–Ω–µ–π –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π */
        .companies-bottom-btn::after {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
            box-shadow: 0 0 4px rgba(255, 215, 0, 0.8);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -20px);
            opacity: 0;
            z-index: 1001;
            transition: opacity 0.3s ease;
        }

        .companies-bottom-btn:hover:not(.animating) {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 12px rgba(66, 165, 245, 0.4);
        }

        .companies-bottom-btn:hover::after {
            opacity: 1;
            animation: rotateDot 2s linear infinite;
        }

        /* –ò–∫–æ–Ω–∫–∞ —Å–µ—Ç–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π (4 –∫–≤–∞–¥—Ä–∞—Ç–∞ –≤ —Å–µ—Ç–∫–µ) */
        .companies-bottom-icon {
            width: 18px;
            height: 18px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='3' width='7' height='7'%3E%3C/rect%3E%3Crect x='14' y='3' width='7' height='7'%3E%3C/rect%3E%3Crect x='14' y='14' width='7' height='7'%3E%3C/rect%3E%3Crect x='3' y='14' width='7' height='7'%3E%3C/rect%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π */
        .companies-bottom-btn:hover .companies-bottom-tooltip {
            opacity: 1 !important;
            visibility: visible !important;
            transition-delay: 1s;
        }

        .companies-bottom-tooltip {
            position: absolute;
            top: 50%;
            right: calc(100% + 8px);
            transform: translateY(-50%);
            padding: 8px 12px;
            border-radius: 8px;
            background: #000000;
            color: #ffffff;
            font-size: 0.75rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 10001;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è */
        .profile-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }

        .profile-modal.show {
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding-top: 10vh; /* –ü–æ–¥–Ω–∏–º–∞–µ–º –æ–∫–Ω–æ –≤—ã—à–µ */
        }

        @media (max-width: 768px) {
            .profile-modal.show {
                padding-top: 5vh;
                align-items: center;
            }
        }

        @media (max-width: 480px) {
            .profile-modal.show {
                padding-top: 2vh;
                padding-left: 5px;
                padding-right: 5px;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .profile-modal-content {
            background: var(--color-surface);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease;
            position: relative;
            margin-top: 10vh; /* –ü–æ–¥–Ω–∏–º–∞–µ–º –æ–∫–Ω–æ –≤—ã—à–µ */
            cursor: default;
        }

        .profile-modal-header {
            cursor: move;
            user-select: none;
        }

        @keyframes slideUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .profile-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }

        .profile-modal-header h2 {
            color: #1565c0;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .profile-modal-close {
            background: none;
            border: none;
            font-size: 2rem;
            color: #999;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .profile-modal-close:hover {
            background: #f5f5f5;
            color: #333;
        }

        .profile-form-group {
            margin-bottom: 25px;
        }

        .profile-form-group label {
            display: block;
            color: #1565c0;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 0.95rem;
        }

        .profile-form-group input {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid rgba(100, 181, 246, 0.3);
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: var(--color-bg);
            color: var(--color-text);
        }

        [data-theme="dark"] .profile-form-group input {
            border-color: rgba(100, 181, 246, 0.5);
            background: var(--color-surface);
        }

        .profile-form-group input:focus {
            outline: none;
            border-color: #42a5f5;
            box-shadow: 0 0 0 4px rgba(66, 165, 245, 0.15);
            background: var(--color-surface);
        }

        .profile-form-group input::placeholder {
            color: var(--color-text-secondary);
        }

        [data-theme="dark"] .profile-form-group input::placeholder {
            color: rgba(176, 176, 176, 0.7);
        }

        .profile-form-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .profile-btn-save {
            flex: 1;
            padding: 14px 24px;
            background: linear-gradient(135deg, #42a5f5 0%, #2196f3 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.3);
        }

        .profile-btn-save:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(33, 150, 243, 0.4);
        }

        .profile-btn-cancel {
            flex: 1;
            padding: 14px 24px;
            background: #e0e0e0;
            color: #666;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .profile-btn-cancel:hover {
            background: #d0d0d0;
        }

        .profile-message {
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
            font-size: 0.9rem;
        }

        .profile-message.success {
            background: rgba(129, 199, 132, 0.2);
            color: #2e7d32;
            border: 1px solid rgba(129, 199, 132, 0.5);
        }

        .profile-message.error {
            background: rgba(239, 83, 80, 0.2);
            color: #c62828;
            border: 1px solid rgba(239, 83, 80, 0.5);
        }

        .profile-message.show {
            display: block;
        }

        h1 {
            font-size: 28px;
            margin-bottom: 10px;
            color: var(--color-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header-subtitle {
            color: var(--color-text-secondary);
            font-size: 14px;
        }

        .header-icon {
            width: 26px;
            height: 26px;
            border-radius: 6px;
            background: radial-gradient(circle at 20% 20%, #ffffff 0, #ffffff 10%, #bbdefb 30%, #1e88e5 80%);
            box-shadow: 0 0 0 2px rgba(30, 136, 229, 0.3), 0 4px 8px rgba(0, 0, 0, 0.18);
            position: relative;
        }

        .header-icon::before {
            content: '';
            position: absolute;
            inset: 6px;
            border-radius: 4px;
            border: 2px solid #ffffff;
            box-shadow: inset 0 0 0 1px rgba(21, 101, 192, 0.6);
        }

        .header-icon::after {
            content: '';
            position: absolute;
            left: 6px;
            right: 6px;
            bottom: 7px;
            height: 2px;
            background: rgba(255, 255, 255, 0.9);
        }

        .company-info {
            margin-top: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .company-logo-display {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
        }

        .company-logo-preview {
            width: 192px;
            height: 192px;
            border-radius: 8px;
            border: 1px solid var(--color-border);
            object-fit: contain;
            background: var(--color-bg);
            padding: 4px;
        }

        .company-logo-hint {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: var(--color-text-secondary);
            pointer-events: none;
            text-align: center;
        }

        .company-name-block {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .company-name-label {
            font-size: 11px;
            color: var(--color-text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.06em;
        }

        .company-name-display {
            font-size: 40px;
            color: #9e9e9e;
            font-style: italic;
            min-height: 32px;
            outline: none;
            cursor: default;
            user-select: none;
        }

        .company-object-name-display {
            color: #64b5f6;
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 4px;
            line-height: 1.4;
        }

        .company-name-display.has-value {
            font-size: 64px;
            font-weight: 700;
            background: linear-gradient(135deg, #f44336 0%, #5b0001 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-style: normal;
        }

        .controls {
            background: var(--color-surface);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
            border-bottom: 3px solid var(--color-primary);
        }

        .zoom-controls {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-left: auto;
        }

        .zoom-controls .btn {
            min-width: auto !important;
            width: auto !important;
            justify-content: center;
            padding: 6px 8px !important;
            flex-shrink: 0;
        }

        .zoom-label {
            font-size: 12px;
            color: var(--color-text-secondary);
        }

        .zoom-range {
            width: 120px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-icon {
            width: 18px;
            height: 18px;
            display: inline-block;
            position: relative;
        }

        /* –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (PDF, Excel, –ì–∞–Ω—Ç/–¢–∞–±–ª–∏—Ü–∞, –°–±—Ä–æ—Å–∏—Ç—å –ø–ª–∞–Ω) */
        .controls .btn-primary,
        .controls .btn-secondary {
            background: var(--color-primary);
            color: #ffffff;
            border-radius: 6px;
            border: 1px solid var(--color-primary-hover);
            width: 180px;
            justify-content: flex-start;
            height: 40px;
            padding-left: 16px;
        }

        /* –ò—Å–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫–∏ –º–∞—Å—à—Ç–∞–±–∞ –∏–∑ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —à–∏—Ä–∏–Ω—ã */
        .zoom-controls .btn-primary,
        .zoom-controls .btn-secondary {
            width: auto;
        }

        .controls .btn-primary:hover,
        .controls .btn-secondary:hover {
            background: var(--color-primary-hover);
            box-shadow: var(--shadow-md);
            transform: translateY(-1px);
        }

        .btn-primary .btn-icon {
            filter: drop-shadow(0 1px 1px rgba(0,0,0,0.3));
        }

        .btn-secondary .btn-icon {
            filter: drop-shadow(0 1px 1px rgba(0,0,0,0.15));
        }

        /* –ò–∫–æ–Ω–∫–∞ PDF: —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ª–∏—Å—Ç —Å —É–≥–æ–ª–∫–æ–º */
        .btn-icon-pdf::before {
            content: '';
            position: absolute;
            inset: 1px 3px 3px 3px;
            border-radius: 3px;
            border: 2px solid currentColor;
        }

        .btn-icon-pdf::after {
            content: '';
            position: absolute;
            top: 1px;
            right: 3px;
            width: 7px;
            height: 7px;
            border-top: 2px solid currentColor;
            border-right: 2px solid currentColor;
            border-radius: 0 3px 0 0;
        }

        /* –ò–∫–æ–Ω–∫–∞ Excel: —Ç–∞–±–ª–∏—Ü–∞ */
        .btn-icon-excel::before {
            content: '';
            position: absolute;
            inset: 2px;
            border-radius: 3px;
            border: 2px solid currentColor;
        }

        .btn-icon-excel::after {
            content: '';
            position: absolute;
            inset: 5px 3px;
            border-top: 2px solid currentColor;
            border-bottom: 2px solid currentColor;
            box-shadow: inset 0 0 0 1px transparent;
        }

        .btn-icon-excel {
            --col: currentColor;
        }

        .btn-icon-excel::before,
        .btn-icon-excel::after {
            color: inherit;
        }

        /* –ò–∫–æ–Ω–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–¥–∞: –¥–≤–∞ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ */
        .btn-icon-toggle::before,
        .btn-icon-toggle::after {
            content: '';
            position: absolute;
            width: 7px;
            height: 10px;
            border-radius: 2px;
            border: 2px solid currentColor;
        }

        .btn-icon-toggle::before {
            left: 1px;
            top: 3px;
        }

        .btn-icon-toggle::after {
            right: 1px;
            top: 3px;
        }

        /* –ò–∫–æ–Ω–∫–∞ —Å–±—Ä–æ—Å–∞: —Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫–∞–∫ —è–¥–µ—Ä–Ω–∞—è –∫–Ω–æ–ø–∫–∞ */
        .btn-icon-reset {
            position: relative;
            width: 20px;
            height: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        /* –ö—Ä—É–≥ —è–¥–µ—Ä–Ω–æ–π –∫–Ω–æ–ø–∫–∏ */
        .btn-icon-reset::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            width: 16px;
            height: 16px;
            border: 2px solid currentColor;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.3s ease;
        }

        /* –¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –≤–Ω—É—Ç—Ä–∏ –∫—Ä—É–≥–∞ (—Å–∏–º–≤–æ–ª —è–¥–µ—Ä–Ω–æ–π –∫–Ω–æ–ø–∫–∏) */
        .btn-icon-reset::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            width: 0;
            height: 0;
            border-left: 4px solid transparent;
            border-right: 4px solid transparent;
            border-bottom: 6px solid currentColor;
            transform: translate(-50%, -50%);
            transition: all 0.3s ease;
        }
        
        /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–∫–æ–Ω–∫—É –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º "–±–µ–∑ –ø—Ä–∞–≤–∞ –Ω–∞ –æ—à–∏–±–∫—É" */
        .reset-plan-btn:hover .btn-icon-reset {
            opacity: 1;
            filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.8));
        }
        
        .reset-plan-btn:hover .btn-icon-reset::before {
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
            animation: pulse-nuclear 1.5s ease-in-out infinite;
        }
        
        .reset-plan-btn:hover .btn-icon-reset::after {
            animation: pulse-nuclear-icon 1.5s ease-in-out infinite;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ "–±–µ–∑ –ø—Ä–∞–≤–∞ –Ω–∞ –æ—à–∏–±–∫—É" */
        @keyframes pulse-nuclear {
            0%, 100% {
                box-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
            }
            50% {
                box-shadow: 0 0 12px rgba(255, 255, 255, 0.9);
            }
        }
        
        /* –ü—É–ª—å—Å–∞—Ü–∏—è –∏–∫–æ–Ω–∫–∏ */
        @keyframes pulse-nuclear-icon {
            0%, 100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                opacity: 0.8;
                transform: translate(-50%, -50%) scale(1.1);
            }
        }

        /* –ò–∫–æ–Ω–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ "–î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞—á" */
        .btn-icon-table::before,
        .btn-icon-table::after {
            content: '';
            position: absolute;
        }

        .btn-icon-table::before {
            inset: 2px;
            border-radius: 3px;
            border: 2px solid currentColor;
        }

        .btn-icon-table::after {
            inset: 5px 3px;
            border-top: 2px solid currentColor;
            border-bottom: 2px solid currentColor;
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è */
        #saveButton {
            background: #4caf50 !important;
            border-color: #4caf50 !important;
            font-weight: 600 !important;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3) !important;
            position: relative;
            display: none !important; /* –°–∫—Ä—ã—Ç–∞, —Ç–∞–∫ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ */
        }

        #saveButton:hover {
            background: #45a049 !important;
            border-color: #45a049 !important;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4) !important;
            transform: translateY(-2px);
        }

        #saveButton.saving-success {
            background: #4caf50 !important;
            border-color: #4caf50 !important;
        }

        #saveButton.saving-error {
            background: #f44336 !important;
            border-color: #f44336 !important;
        }

        #saveButton:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* –°–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ */
        body.view-mode #saveButton {
            display: none !important;
        }

        .btn-primary:hover {
            background: var(--color-primary-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: var(--color-text);
            border: 1px solid var(--color-border);
        }

        .btn-secondary:hover {
            background: #e8e8e8;
        }

        /* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "–ì–∞–Ω—Ç / –¢–∞–±–ª–∏—Ü–∞" —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ */
        .view-toggle-label {
            display: inline-flex;
            align-items: center;
            gap: 2px;
            font-size: 13px;
            height: 100%;
        }

        .view-toggle-part {
            display: inline-flex;
            align-items: center;
            line-height: 1.2;
            padding: 2px 10px;
            border-radius: 999px;
            transition: background-color 0.4s ease, color 0.4s ease,
                        transform 0.4s ease, box-shadow 0.4s ease;
        }

        .view-toggle-part.active {
            background: #e3f2fd;
            color: var(--color-primary);
            font-weight: 600;
            box-shadow: 0 0 0 1px rgba(30,136,229,0.5);
        }

        .view-toggle-part:not(.active) {
            opacity: 0.75;
        }

        /* –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è –ì–∞–Ω—Ç / –¢–∞–±–ª–∏—Ü–∞ ‚Äî —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ */
        .view-toggle-btn {
            justify-content: center !important;
            padding-left: 16px;
            padding-right: 16px;
        }

        /* –õ—ë–≥–∫–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –±–ª–æ–∫–∞ (–ì–∞–Ω—Ç / –¢–∞–±–ª–∏—Ü–∞)
           –û—Å—Ç–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ –ø–æ opacity/transform (GPU),
           —á—Ç–æ–±—ã –Ω–µ —Ñ—Ä–∏–∑–∏–ª–æ –∏–∑-–∑–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –≤—ã—Å–æ—Ç—ã –∏ –æ—Ç—Å—Ç—É–ø–æ–≤ */
        .chart-container,
        .table-section {
            transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                        transform 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                        box-shadow 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                        background-color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        /* –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - —ç–ª–µ–º–µ–Ω—Ç —Å–∫—Ä—ã—Ç –∏ —Å–Ω–∏–∑—É */
        .chart-container:not(.view-active),
        .table-section:not(.view-active) {
            opacity: 0;
            transform: translateY(20px);
            max-height: 0;
            overflow: hidden;
            margin-bottom: 0;
            padding-top: 0;
            padding-bottom: 0;
        }

        /* –ê–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç - –≤–∏–¥–∏–º –∏ –Ω–∞ –º–µ—Å—Ç–µ */
        .chart-container.view-active,
        .table-section.view-active {
            box-shadow: 0 0 0 2px #bbdefb, var(--shadow-md);
            background-color: #f9fcff;
            opacity: 1;
            transform: translateY(0);
            max-height: 2000px;
        }

        /* –°–∫—Ä—ã—Ç—ã–π —ç–ª–µ–º–µ–Ω—Ç - —É–µ–∑–∂–∞–µ—Ç –≤–Ω–∏–∑ */
        .view-hidden {
            max-height: 0;
            opacity: 0;
            transform: translateY(20px);
            overflow: hidden;
            pointer-events: none;
            margin-bottom: 0 !important;
            padding-top: 0 !important;
            padding-bottom: 0 !important;
            transition: max-height 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                        opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                        transform 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                        box-shadow 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                        background-color 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                        margin-bottom 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                        padding-top 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                        padding-bottom 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–°–±—Ä–æ—Å–∏—Ç—å –ø–ª–∞–Ω" –≤ —Å—Ç–∏–ª–µ —Ä–µ–¥–∞–∫—Ü–∏–∏ —ç—Ç–∞–ø–æ–≤ */
        .reset-plan-btn {
            position: relative;
            width: 40px !important;
            height: 40px !important;
            min-width: 40px !important;
            border-radius: 50% !important;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%) !important;
            border: 2px solid #2c2c2c !important;
            color: #ffffff !important;
            box-shadow: 0 2px 8px rgba(238, 90, 82, 0.3);
            transition: all 0.3s ease;
            padding: 0 !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            overflow: visible;
        }
        
        .reset-plan-btn:hover {
            background: linear-gradient(135deg, #ff5252 0%, #d63031 100%) !important;
            box-shadow: 0 4px 12px rgba(238, 90, 82, 0.5);
            transform: translateY(-2px) scale(1.05);
        }
        
        .reset-plan-btn:active {
            transform: translateY(0) scale(1);
            box-shadow: 0 2px 6px rgba(238, 90, 82, 0.4);
        }
        
        .reset-plan-btn .btn-icon {
            margin: 0 !important;
        }
        
        /* –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ "–°–±—Ä–æ—Å–∏—Ç—å –ø–ª–∞–Ω" –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (—Ç–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω–∞—è, –∫–Ω–æ–ø–∫–∞ –≤–∏–¥–Ω–∞) */
        .reset-plan-btn.view-mode-disabled {
            opacity: 0.6;
            cursor: not-allowed;
            pointer-events: auto; /* –†–∞–∑—Ä–µ—à–∞–µ–º –∫–ª–∏–∫–∏, –Ω–æ —Ñ—É–Ω–∫—Ü–∏—è canEdit() –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ */
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%) !important;
            border: 1px solid #636e72 !important;
        }
        
        .reset-plan-btn.view-mode-disabled:hover {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%) !important;
            transform: none;
            box-shadow: 0 2px 8px rgba(238, 90, 82, 0.3);
        }

        .reset-plan-btn::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translate(-50%, 0);
            padding: 4px 8px;
            border-radius: 6px;
            background: #000000;
            color: #fff;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: bottom center;
            z-index: 1001;
        }

        .reset-plan-btn:hover::after {
            opacity: 1;
            transform: translate(-50%, -6px);
            transition-delay: 1s;
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –¥–ª–∏–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ (—á—ë—Ä–Ω—ã–π —Ñ–æ–Ω, –∫–∞–∫ —É –æ—Å—Ç–∞–ª—å–Ω—ã—Ö) */
        .table-col-responsible[data-tooltip] {
            position: relative;
        }

        .table-col-responsible[data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translate(-50%, 4px);
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.85);
            color: #fff;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: top center;
            z-index: 9999;
        }

        .table-col-responsible[data-tooltip]:hover::after {
            opacity: 1;
            transform: translate(-50%, 0);
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —Å—Ç–æ–ª–±—Ü–æ–≤ —Ç–∞–±–ª–∏—Ü—ã (—ç—Ç–∞–ø, –≤–∏–¥ –∫–æ–Ω—Ç—Ä–æ–ª—è, –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ) - —á—ë—Ä–Ω—ã–π —Ñ–æ–Ω, –∫–∞–∫ —É —Ä–µ–¥–∞–∫—Ü–∏–∏ —ç—Ç–∞–ø–æ–≤ */
        .tasks-table td[data-tooltip] {
            position: relative;
        }

        .tasks-table td[data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translate(-50%, 0);
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.8) !important;
            color: #fff !important;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: bottom center;
            z-index: 9999;
        }

        .tasks-table td[data-tooltip]:hover::after {
            opacity: 1 !important;
            transform: translate(-50%, -6px);
            transition-delay: 1s;
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è select "–°–≤—è–∑—å" –≤ —Ç–∞–±–ª–∏—Ü–µ (—á—ë—Ä–Ω—ã–π —Ñ–æ–Ω, –∫–∞–∫ —É —Ä–µ–¥–∞–∫—Ü–∏–∏ —ç—Ç–∞–ø–æ–≤) */
        .tasks-table .link-select[data-tooltip] {
            position: relative;
        }

        .tasks-table .link-select[data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translate(-50%, 0);
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.8) !important;
            color: #fff !important;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: bottom center;
            z-index: 9999;
        }

        .tasks-table .link-select[data-tooltip]:hover::after {
            opacity: 1 !important;
            transform: translate(-50%, -6px);
            transition-delay: 1s;
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –¥–ª–∏–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤ –ì–∞–Ω—Ç–µ (—á—ë—Ä–Ω—ã–π —Ñ–æ–Ω, –∫–∞–∫ —É –æ—Å—Ç–∞–ª—å–Ω—ã—Ö) */
        .gantt-details-cell[data-tooltip] {
            position: relative;
        }

        .gantt-details-cell[data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translate(-50%, 4px);
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.85);
            color: #fff;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: top center;
            z-index: 9999;
        }

        .gantt-details-cell[data-tooltip]:hover::after {
            opacity: 1;
            transform: translate(-50%, 0);
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è select "–°–≤—è–∑—å" –≤ –¥–∏–∞–≥—Ä–∞–º–º–µ –ì–∞–Ω—Ç–∞ (—á—ë—Ä–Ω—ã–π —Ñ–æ–Ω, –∫–∞–∫ —É —Ä–µ–¥–∞–∫—Ü–∏–∏ —ç—Ç–∞–ø–æ–≤) */
        .gantt-details-cell .link-select[data-tooltip] {
            position: relative;
        }

        .gantt-details-cell .link-select[data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translate(-50%, 4px);
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.85);
            color: #fff;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: top center;
            z-index: 9999;
        }

        .gantt-details-cell .link-select[data-tooltip]:hover::after {
            opacity: 1;
            transform: translate(-50%, 0);
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —Å—Ç–æ–ª–±—Ü–∞ "–ó–∞–¥–∞—á–∞" –≤ –¥–∏–∞–≥—Ä–∞–º–º–µ –ì–∞–Ω—Ç–∞ (—á—ë—Ä–Ω—ã–π —Ñ–æ–Ω, –∫–∞–∫ —É –æ—Å—Ç–∞–ª—å–Ω—ã—Ö) */
        .gantt-label[data-tooltip] {
            position: relative;
            overflow: visible !important;
            clip-path: none !important; /* —Ä–∞–∑—Ä–µ—à–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–µ –≤—ã—Ö–æ–¥–∏—Ç—å –∑–∞ –ø—Ä–µ–¥–µ–ª—ã label */
        }

        /* –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –ø–æ–¥–Ω–∏–º–∞–µ–º –≤–µ—Å—å label –≤—ã—à–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
        .gantt-label[data-tooltip]:hover {
            z-index: 100 !important; /* –í—ã—à–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (z-index: 11) */
        }

        .gantt-label[data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: calc(100% + 6px);
            left: 0;
            transform: translateY(0);
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.85) !important;
            color: #fff !important;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: bottom left;
            z-index: 100000 !important; /* –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π z-index –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ */
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .gantt-label[data-tooltip]:hover::after {
            opacity: 1 !important;
            transform: translateY(-6px);
            transition-delay: 1s;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .form-group label {
            font-size: 12px;
            font-weight: 600;
            color: var(--color-text-secondary);
        }

        .form-group input {
            padding: 8px 12px;
            border: 1px solid var(--color-border);
            border-radius: 4px;
            font-size: 14px;
        }

        .pdf-content-toggle {
            gap: 10px;
        }

        .pdf-toggle-options {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .pdf-toggle-option {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            font-weight: 500;
            color: var(--color-text-primary);
        }

        .pdf-toggle-option input[type="radio"] {
            width: auto;
            accent-color: var(--color-primary);
        }

        .chart-container {
            background: var(--color-surface);
            padding: 20px 20px 20px 70px; /* –û—Ç—Å—Ç—É–ø —Å–ª–µ–≤–∞ 70px (20px padding + 50px –¥–ª—è –º–µ—Ç–æ–∫) */
            border-radius: 8px;
            box-shadow: var(--shadow-sm);
            overflow-x: auto;
            overflow-y: auto;
            max-height: 480px;
            margin-bottom: 20px;
            border-bottom: 3px solid var(--color-primary);
            position: relative; /* –î–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ—Ç–æ–∫ —ç—Ç–∞–ø–æ–≤ */
        }

        .gantt-chart {
            display: flex;
            flex-direction: column;
            min-width: 100%;
            font-size: 12px;
            position: relative;
            /* –£–±–∏—Ä–∞–µ–º padding-left, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —Ç–µ–ø–µ—Ä—å –≤ .chart-container */
            overflow-x: auto;
            overflow-y: visible;
            -webkit-overflow-scrolling: touch;
            /* –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ —Å–∫—Ä–æ–ª–ª–±–∞—Ä –≤—Å–µ–≥–¥–∞ –≤–∏–¥–µ–Ω –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ */
            scrollbar-width: thin; /* –î–ª—è Firefox */
            scrollbar-color: #90caf9 #e3f2fd; /* –î–ª—è Firefox */
        }
        
        /* –°—Ç–∏–ª–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ */
        .gantt-chart::-webkit-scrollbar {
            height: 8px;
        }
        
        .gantt-chart::-webkit-scrollbar-thumb {
            background: #90caf9;
            border-radius: 4px;
        }
        
        .gantt-chart::-webkit-scrollbar-track {
            background: #e3f2fd;
        }

        /* –î–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö —É–±–∏—Ä–∞–µ–º contain, —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É */
        @media (max-width: 1024px) {
            .gantt-chart {
                contain: none; /* –£–±–∏—Ä–∞–µ–º contain –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
            }
        }

        .gantt-header {
            display: flex;
            margin-bottom: 2px;
            background: var(--color-bg);
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .gantt-header-first-row {
            position: sticky;
            top: 0;
            z-index: 10;
            background: var(--color-bg);
        }

        .gantt-header-label {
            min-width: 180px;
            max-width: 180px;
            padding: 10px 10px;
            border-right: 2px solid var(--color-border);
            background: var(--color-bg);
            position: sticky;
            left: 0;
            z-index: 11;
            text-align: center;
            font-size: 16px;
            font-weight: 700;
            box-sizing: border-box;
            /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –æ–±–ª–∞—Å—Ç—å sticky, —á—Ç–æ–±—ã –Ω–µ –≤—ã—Ö–æ–¥–∏–ª–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
            clip-path: inset(0);
        }

        .gantt-details-header {
            display: flex;
        }

        .gantt-details-row {
            display: flex;
        }

        .gantt-details-cell {
            padding: 8px 6px;
            border-right: 1px solid var(--color-border);
            background: var(--color-bg);
            text-align: center;
            font-size: 11px;
            box-sizing: border-box;
            flex-shrink: 0;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–æ–ª–æ–Ω–∫–∏ "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" –≤ –ì–∞–Ω—Ç–µ */
        .gantt-details-cell.link-cell {
            flex-basis: 0 !important;
            width: 0 !important;
            min-width: 0 !important;
            max-width: 0 !important;
            opacity: 0;
            overflow: hidden;
            padding-left: 0;
            padding-right: 0;
            margin-right: 0;
            border-right: none;
            flex-shrink: 0;
            flex-grow: 0;
            transition: flex-basis 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                        max-width 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        min-width 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                        width 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        opacity 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                        padding-left 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        padding-right 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-right 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                        border-right 0.7s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.show-link .gantt-details-cell.link-cell {
            flex-basis: 70px !important;
            width: 70px !important;
            min-width: 50px !important;
            max-width: 70px !important;
            opacity: 1;
            padding-left: 4px;
            padding-right: 4px;
            margin-right: 0;
            border-right: 1px solid var(--color-border);
        }

        .gantt-details-cell.responsible-cell {
            flex-basis: 0 !important;
            width: 0 !important;
            min-width: 0 !important;
            max-width: 0 !important;
            opacity: 0;
            overflow: hidden;
            padding-left: 0;
            padding-right: 0;
            margin-right: 0;
            border-right: none;
            flex-shrink: 0;
            flex-grow: 0;
            transition: flex-basis 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                        max-width 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        min-width 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                        width 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        opacity 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                        padding-left 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        padding-right 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-right 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                        border-right 0.7s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.show-responsible .gantt-details-cell.responsible-cell {
            flex-basis: 200px !important;
            width: 200px !important;
            min-width: 150px !important;
            max-width: 200px !important;
            opacity: 1;
            padding-left: 6px;
            padding-right: 6px;
            margin-right: 0;
            border-right: 1px solid var(--color-border);
        }

        .gantt-details-input {
            width: 100%;
            padding: 4px 6px;
            font-size: 11px;
            border-radius: 4px;
            border: 1px solid var(--color-border);
            box-sizing: border-box;
        }

        /* –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ */
        body.view-mode .gantt-details-input[readonly],
        body.view-mode .gantt-details-input[data-field="startDate"],
        body.view-mode .gantt-details-input[data-field="endDate"],
        body.view-mode .gantt-details-input[data-field="days"],
        body.view-mode .gantt-details-input[disabled] {
            background-color: #f5f5f5;
            color: #666;
            cursor: not-allowed;
            opacity: 0.7;
        }

        /* –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —è—á–µ–π–∫–∏ –≤ —Å–≤–µ—Ä–Ω—É—Ç—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö —ç—Ç–∞–ø–æ–≤ */
        .stage-row-collapsed .gantt-details-cell.link-cell select[disabled],
        .stage-row-collapsed .gantt-details-cell.responsible-cell {
            background-color: #f5f5f5;
            color: #666;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .stage-row-collapsed .table-col-link select[disabled],
        .stage-row-collapsed .table-col-responsible {
            background-color: #f5f5f5;
            color: #666;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .gantt-resizable {
            position: relative;
        }

        .gantt-resizer {
            position: absolute;
            top: 0;
            right: -2px;
            width: 4px;
            height: 100%;
            cursor: col-resize;
            z-index: 20;
        }

        .gantt-header-dates-row {
            display: flex;
            flex: 1;
        }

        .gantt-header-month-row {
            display: flex;
            background: var(--color-bg);
            font-weight: 600;
            margin-bottom: 2px;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .gantt-header-month-label {
            flex: 1;
            text-align: center;
            padding: 8px 0;
            font-size: 14px;
            border-bottom: 2px solid var(--color-border);
            background: #f9f9f9;
        }

        .gantt-header-month-spacer {
            min-width: 300px;
        }

        .gantt-header-cell {
            min-width: 60px;
            padding: 10px 5px;
            text-align: center;
            border-right: 1px solid var(--color-border);
            border-bottom: 2px solid var(--color-border);
            background: var(--color-primary);
            color: white;
            line-height: 1.1;
        }

        .gantt-header-week-days {
            display: block;
        }

        .gantt-header-week-month {
            display: block;
            margin-top: 2px;
            font-size: 11px;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –º–µ—Ç–æ–∫ —ç—Ç–∞–ø–æ–≤ - –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è —Å–ª–µ–≤–∞ –æ—Ç —Ç–∞–±–ª–∏—Ü—ã */
        .gantt-stage-labels {
            position: absolute;
            left: 0; /* –°–ª–µ–≤–∞ –æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—Å —É—á–µ—Ç–æ–º padding) */
            top: 0;
            width: 50px;
            z-index: 15;
            pointer-events: none; /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è, –Ω–æ –º–µ—Ç–∫–∏ —ç—Ç–∞–ø–æ–≤ –±—É–¥—É—Ç –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã */
            background: transparent;
            /* –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ - –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ */
            /* background: rgba(255, 0, 0, 0.1); */
        }

        /* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ–º –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ */
        .gantt-stage-controls {
            position: absolute;
            left: 0;
            top: 0;
            width: 50px;
            height: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 4px;
            z-index: 30;
            pointer-events: auto;
            background: rgba(30, 136, 229, 0.1);
            border-right: 2px solid var(--color-primary);
            border-bottom: 1px solid rgba(30, 136, 229, 0.3);
        }

        .gantt-stage-control-btn {
            width: 32px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--color-primary);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s ease, transform 0.1s ease;
            user-select: none;
        }

        .gantt-stage-control-btn:hover {
            background: rgba(30, 136, 229, 0.9);
            transform: scale(1.05);
        }

        .gantt-stage-control-btn:active {
            transform: scale(0.95);
        }

        /* –ú–µ—Ç–∫–∞ —ç—Ç–∞–ø–∞ */
        .gantt-stage-label {
            position: absolute;
            left: 0;
            width: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(30, 136, 229, 0.1);
            border-right: 2px solid var(--color-primary);
            color: var(--color-primary);
            font-weight: 600;
            font-size: 0.75rem;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(180deg); /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ (12 —á–∞—Å–æ–≤) */
            white-space: nowrap;
            padding: 8px 4px;
            box-sizing: border-box;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease, writing-mode 0.3s ease, width 0.3s ease, height 0.3s ease, background 0.2s ease;
            z-index: 20;
            user-select: none;
            pointer-events: auto; /* –ú–µ—Ç–∫–∏ —ç—Ç–∞–ø–æ–≤ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã */
        }

        /* Hover —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –º–µ—Ç–∫–∏ —ç—Ç–∞–ø–∞ */
        .gantt-stage-label:hover {
            background: rgba(30, 136, 229, 0.25);
            border-right-color: rgba(30, 136, 229, 0.8);
        }

        /* –°–≤–µ—Ä–Ω—É—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ—Ç–∫–∏ —ç—Ç–∞–ø–∞ (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ) */
        .gantt-stage-label.collapsed {
            writing-mode: horizontal-tb;
            text-orientation: unset;
            transform: rotate(270deg); /* –ü–æ–≤–æ—Ä–æ—Ç –Ω–∞ 90 –≥—Ä–∞–¥—É—Å–æ–≤ –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ (—Å 12 –Ω–∞ 3 —á–∞—Å–∞) */
            width: auto;
            min-width: 100px;
            height: 35px;
            padding: 8px 12px;
            position: absolute;
            left: 0;
            z-index: 25;
            pointer-events: auto; /* –°–≤–µ—Ä–Ω—É—Ç—ã–µ –º–µ—Ç–∫–∏ —Ç–∞–∫–∂–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã */
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–æ–∫ –∑–∞–¥–∞—á */
        .gantt-row.collapsing {
            animation: collapseRow 0.3s ease forwards;
            overflow: hidden;
        }

        .gantt-row.expanding {
            animation: expandRow 0.3s ease forwards;
            overflow: hidden;
        }

        @keyframes collapseRow {
            from {
                max-height: 35px;
                opacity: 1;
                margin-bottom: 0;
            }
            to {
                max-height: 0;
                opacity: 0;
                margin-bottom: 0;
                padding-top: 0;
                padding-bottom: 0;
            }
        }

        @keyframes expandRow {
            from {
                max-height: 0;
                opacity: 0;
                margin-bottom: 0;
                padding-top: 0;
                padding-bottom: 0;
            }
            to {
                max-height: 35px;
                opacity: 1;
                margin-bottom: 0;
            }
        }

        /* –°–∫—Ä—ã—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∑–∞–¥–∞—á */
        .gantt-row.stage-collapsed {
            display: none;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ –∑–∞–¥–∞—á */
        #tasksTableBody tr.collapsing {
            animation: collapseRow 0.3s ease forwards;
            overflow: hidden;
        }

        #tasksTableBody tr.expanding {
            animation: expandRow 0.3s ease forwards;
            overflow: hidden;
        }

        #tasksTableBody tr.stage-collapsed {
            display: none;
        }

        /* –°—Ç—Ä–æ–∫–∞ —ç—Ç–∞–ø–∞ (—Å–≤–µ—Ä–Ω—É—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ) */
        .gantt-row.stage-row-collapsed,
        #tasksTableBody tr.stage-row-collapsed {
            background: rgba(30, 136, 229, 0.05);
            cursor: pointer;
            height: 35px;
            min-height: 35px;
            max-height: 35px;
        }

        .gantt-row.stage-row-collapsed:hover,
        #tasksTableBody tr.stage-row-collapsed:hover {
            background: rgba(30, 136, 229, 0.15);
        }

        .gantt-row.stage-row-collapsed .gantt-label span,
        #tasksTableBody tr.stage-row-collapsed td span {
            font-weight: 600;
            color: var(--color-primary);
        }

        /* –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–ª–æ—Å–∞ –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏ - –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è —Å–ª–µ–≤–∞ –æ—Ç —Ç–∞–±–ª–∏—Ü—ã */
        .gantt-stage-divider {
            position: absolute;
            left: 0; /* –°–ª–µ–≤–∞ –æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—Å —É—á–µ—Ç–æ–º padding) */
            width: 50px;
            height: 2px;
            background: var(--color-primary);
            z-index: 12;
            pointer-events: none;
            opacity: 0.6;
        }

        .gantt-row {
            display: flex;
            border-bottom: 1px solid var(--color-border);
            min-height: 35px;
            align-items: center;
            transition: background 0.15s ease, box-shadow 0.15s ease, max-height 0.3s ease, opacity 0.3s ease, margin 0.3s ease, padding 0.3s ease;
            overflow: visible; /* –†–∞–∑—Ä–µ—à–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–∞–º –≤—ã—Ö–æ–¥–∏—Ç—å –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Å—Ç—Ä–æ–∫–∏ */
        }

        .gantt-row:hover {
            background: #f9f9f9;
        }

        .gantt-row.selected {
            background: #bbdefb !important;
            box-shadow: inset 0 0 0 2px #2196f3, 0 2px 8px rgba(33, 150, 243, 0.2) !important;
            position: relative;
        }

        /* –ü—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ, –∏ —Ç—Ä–∏ –∫–æ–ª–æ–Ω–∫–∏ —Å –¥–∞—Ç–∞–º–∏/–¥–Ω—è–º–∏,
           —á—Ç–æ–±—ã –≤–∏–∑—É–∞–ª—å–Ω–æ –≤—Å—è —Å—Ç—Ä–æ–∫–∞ –≤ –ì–∞–Ω—Ç–µ –≤–µ–ª–∞ —Å–µ–±—è —Ç–∞–∫ –∂–µ, –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ */
        .gantt-row.selected .gantt-label,
        .gantt-row.selected .gantt-details-cell {
            background: #bbdefb !important;
        }

        /* –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á - –±–æ–ª–µ–µ –∑–∞–º–µ—Ç–Ω–∞—è */
        .gantt-row.selected::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, #2196f3 0%, #1976d2 100%);
            box-shadow: 0 0 8px rgba(33, 150, 243, 0.6);
        }

        .gantt-row.dragging {
            opacity: 0.6;
        }

        .gantt-row-drop-target {
            background: #e3f2fd;
            box-shadow: inset 0 3px 0 var(--color-primary);
        }

        .gantt-label {
            min-width: 180px;
            padding: 8px 10px;
            border-right: 2px solid var(--color-border);
            background: var(--color-bg);
            font-weight: 500;
            font-size: 11px;
            position: sticky;
            left: 0;
            z-index: 5;
            box-sizing: border-box;
            /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –æ–±–ª–∞—Å—Ç—å sticky, —á—Ç–æ–±—ã –Ω–µ –≤—ã—Ö–æ–¥–∏–ª–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
            clip-path: inset(0);
            overflow: visible;
            white-space: nowrap;
        }

        .gantt-label span {
            display: inline-block;
            max-width: 100%;
            overflow: visible;
            white-space: nowrap;
        }

        .gantt-task-input {
            width: 100%;
            padding: 4px 6px;
            font-size: 11px;
            border-radius: 4px;
            border: 1px solid var(--color-primary);
            box-sizing: border-box;
        }

        .gantt-cell {
            min-width: 60px;
            height: 100%;
            border-right: 1px solid var(--color-border);
            padding: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* –ñ—ë–ª—Ç–∞—è –ø–æ–ª–æ—Å–∫–∞ –¥–∏—Ä–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ (baseline) –ø–æ–¥ –æ—Å–Ω–æ–≤–Ω—ã–º –±–∞—Ä–æ–º */
        .baseline-bar {
            position: absolute;
            left: 3px;
            right: 3px;
            height: 4px;
            bottom: 2px;
            background: #ffd54f;
            border-radius: 2px;
            pointer-events: none; /* –Ω–µ –º–µ—à–∞–µ—Ç –∫–ª–∏–∫–∞–º –ø–æ –æ—Å–Ω–æ–≤–Ω–æ–º—É –±–∞—Ä—É */
            opacity: 0.9;
            z-index: 100;
        }

        .gantt-bar {
            height: 24px;
            background: linear-gradient(135deg, var(--color-primary) 0%, #0b5ed7 100%);
            border-radius: 3px;
            border: 1px solid var(--color-primary-hover);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            width: 100%;
            min-width: 20px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–∂–µ –≤ –º–∞–ª–µ–Ω—å–∫–∏—Ö —è—á–µ–π–∫–∞—Ö */
            flex-shrink: 0; /* –ù–µ —Å–∂–∏–º–∞–µ—Ç—Å—è –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω—ã */
        }

        .gantt-bar:hover {
            transform: scaleY(1.2);
            box-shadow: var(--shadow-md);
            background: linear-gradient(135deg, var(--color-primary-hover) 0%, #073a3d 100%);
        }

        /* –í—ã–¥–µ–ª–µ–Ω–∏–µ —è—á–µ–µ–∫ –¥–ª—è –º—É–ª—å—Ç–∏–≤—ã–±–æ—Ä–∞ */
        .gantt-bar.cell-selected {
            box-shadow: 0 0 0 2px #2196f3, 0 0 8px rgba(33, 150, 243, 0.6);
            outline: 2px solid #2196f3;
            outline-offset: -2px;
            z-index: 10;
        }

        .gantt-bar.completed {
            background: linear-gradient(135deg, var(--color-success) 0%, #388e3c 100%);
            border-color: #2e7d32;
        }

        .gantt-bar.in-progress {
            background: linear-gradient(135deg, var(--color-warning) 0%, #f57c00 100%);
            border-color: #e65100;
        }

        /* –í —Ä–µ–∂–∏–º–µ —Å–ø–ª–æ—à–Ω—ã—Ö –ø–æ–ª–æ—Å —É–±–∏—Ä–∞–µ–º –∑–∞–∑–æ—Ä—ã –º–µ–∂–¥—É –¥–Ω—è–º–∏, –±–∞—Ä—ã –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ –µ–¥–∏–Ω–∞—è –ª–∏–Ω–∏—è */
        body.gantt-style-segments .gantt-cell {
            padding: 0;
            border-right: none;
        }

        body.gantt-style-segments .gantt-bar {
            border-radius: 0;
            width: 100%;
            /* –û–¥–Ω–æ—Ä–æ–¥–Ω—ã–µ —Ü–≤–µ—Ç–∞ –±–µ–∑ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞, —á—Ç–æ–±—ã –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–ª—É—á–∞–ª–∞—Å—å —Å–ø–ª–æ—à–Ω–∞—è –ø–æ–ª–æ—Å–∞ */
            background: var(--color-primary);
            border-color: var(--color-primary-hover);
        }

        body.gantt-style-segments .gantt-bar.in-progress {
            background: var(--color-warning);
            border-color: #e65100;
        }

        body.gantt-style-segments .gantt-bar.completed {
            background: var(--color-success);
            border-color: #2e7d32;
        }

        /* –í —Ä–µ–∂–∏–º–µ –ø–æ–ª–æ—Å —Å–≥–ª–∞–∂–∏–≤–∞–µ–º —Å–µ—Ä–µ–¥–∏–Ω—É –∏ –æ—Å—Ç–∞–≤–ª—è–µ–º —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–∞ –∫—Ä–∞—è—Ö –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ –æ—Ç—Ä–µ–∑–∫–∞ */
        body.gantt-style-segments .gantt-bar.segment-middle {
            border-radius: 0;
            border-left: none;
            border-right: none;
        }

        body.gantt-style-segments .gantt-bar.segment-start {
            border-radius: 12px 0 0 12px;
            border-right: none;
        }

        body.gantt-style-segments .gantt-bar.segment-end {
            border-radius: 0 12px 12px 0;
            border-left: none;
        }

        /* –û–¥–∏–Ω–æ—á–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç (–∑–∞–¥–∞—á–∞ –Ω–µ —Ç—è–Ω–µ—Ç—Å—è –Ω–∞ —Å–æ—Å–µ–¥–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã)
           ‚Äî —Å–∫—Ä—É–≥–ª—è–µ–º –æ–±–∞ –∫—Ä–∞—è, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ ¬´–æ—Å—Ç—Ä—ã—Ö¬ª –∫–æ–Ω—Ü–æ–≤. */
        body.gantt-style-segments .gantt-bar.segment-single {
            border-radius: 12px;
        }

        body.gantt-style-segments .gantt-bar:hover {
            transform: scaleY(1.05);
            box-shadow: var(--shadow-md);
        }

        .gantt-weekend {
            background: #ffe0e0;
        }

        .gantt-holiday {
            background: #fff9c4;
        }

        /* –Ø—á–µ–π–∫–∏ –±—É–¥—É—â–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ (–ø–æ—Å–ª–µ –∫–æ–Ω—Ü–∞ –ø–ª–∞–Ω–∞) */
        .gantt-future-header {
            background: #d4d4d4;
            color: #555555;
        }

        .gantt-future-cell {
            background: #f1f1f1;
        }

        /* –ö–æ–ª–æ–Ω–∫–∞ "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" –≤ —Ç–∞–±–ª–∏—Ü–µ –∑–∞–¥–∞—á ‚Äî —É–ø—Ä–∞–≤–ª—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å—é —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å –Ω–∞ body */
        .table-col-responsible {
            display: table-cell;
            width: 0 !important;
            min-width: 0 !important;
            max-width: 0 !important;
            opacity: 0;
            overflow: hidden;
            padding-left: 0;
            padding-right: 0;
            border-left: none;
            border-right: none;
            white-space: nowrap;
            transition: width 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                        max-width 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                        min-width 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                        opacity 0.7s cubic-bezier(0.4, 0, 0.2, 1),
                        padding-left 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        padding-right 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        border-left 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        border-right 0.7s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .table-col-link {
            display: none;
        }

        body.show-link .table-col-link {
            display: table-cell;
            width: 70px !important;
            min-width: 50px !important;
            max-width: 70px !important;
        }

        body.show-responsible .table-col-responsible {
            width: 200px !important;
            min-width: 150px !important;
            max-width: 300px !important;
            opacity: 1;
            padding-left: 12px;
            padding-right: 12px;
            border-left: 1px solid var(--color-border);
            border-right: 1px solid var(--color-border);
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è —è—á–µ–µ–∫ –ì–∞–Ω—Ç–∞ */
        .gantt-bar[data-tooltip] {
            position: relative;
            z-index: 5; /* –ø–æ–¥–Ω–∏–º–∞–µ–º —è—á–µ–π–∫—É –Ω–∞–¥ —à–∫–∞–ª–æ–π –¥–∞—Ç */
        }

        .gantt-bar[data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translate(-50%, 4px);
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.85);
            color: #fff;
            font-size: 11px;
            white-space: pre-line;
            width: 300px;
            word-wrap: break-word;
            overflow-wrap: break-word;
            word-break: break-word;
            text-align: left;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: top center;
            z-index: 9999; /* –≤—Å–µ–≥–¥–∞ –ø–æ–≤–µ—Ä—Ö –¥–∞—Ç –∏ –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ì–∞–Ω—Ç–∞ */
        }

        .gantt-bar[data-tooltip]:hover::after {
            opacity: 1;
            transform: translate(-50%, 0);
        }

        .status-comment-input {
            width: 100%;
            resize: vertical;
            min-height: 70px;
            padding: 6px 8px;
            font-size: 13px;
            border-radius: 6px;
            border: 1px solid var(--color-border);
        }

        /* –ú–µ–Ω—é —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏ –ø–æ –¥–∞—Ç–µ */
        .status-menu {
            position: fixed;
            z-index: 200;
            background: var(--color-surface);
            border-radius: 6px;
            box-shadow: var(--shadow-md);
            padding: 8px 0;
            min-width: 180px;
            border: 1px solid var(--color-border);
            display: none;
        }

        @media (max-width: 480px) {
            .status-menu {
                min-width: 160px;
                padding: 6px 0;
            }
        }

        .status-menu-item {
            padding: 6px 12px;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-menu-item:hover {
            background: #f5f5f5;
        }

        .status-color-box {
            width: 14px;
            height: 14px;
            border-radius: 3px;
            border: 1px solid #999;
        }

        .legend {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            padding: 15px;
            background: var(--color-bg);
            border-radius: 6px;
            flex-wrap: wrap;
        }

        @media (max-width: 768px) {
            .legend {
                gap: 15px;
                padding: 12px;
                margin-top: 15px;
            }
        }

        @media (max-width: 480px) {
            .legend {
                gap: 10px;
                padding: 10px;
                margin-top: 12px;
            }
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }

        @media (max-width: 480px) {
            .legend-item {
                font-size: 0.7rem;
                gap: 6px;
            }

            .status-color-box {
                width: 12px;
                height: 12px;
            }
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            border: 1px solid #999;
        }

        .stats {
            background: var(--color-surface);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            border-bottom: 3px solid var(--color-primary);
        }

        .stat-card {
            padding: 15px;
            background: var(--color-bg);
            border-left: 4px solid var(--color-primary);
            border-radius: 4px;
        }

        .stat-label {
            font-size: 12px;
            color: var(--color-text-secondary);
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--color-primary);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .table-section {
            background: var(--color-surface);
            padding: 20px;
            border-radius: 8px;
            box-shadow: var(--shadow-sm);
            margin-bottom: 20px;
            margin-top: 0;
            overflow-x: auto;
            overflow-y: auto;
            max-height: 600px;
            border-bottom: 3px solid var(--color-primary);
        }

        .table-section h2 {
            font-size: 16px;
            margin-bottom: 15px;
            color: var(--color-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }

        th {
            background: var(--color-primary);
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border: 1px solid var(--color-primary-hover);
        }

        /* –®–∞–ø–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –∑–∞–¥–∞—á: –¥–µ–ª–∞–µ–º –ø–æ–¥–ø–∏—Å–∏ –∫—Ä—É–ø–Ω–µ–µ –∏ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
        #tasksTable thead th {
            font-size: 13px;
            text-align: center;
            vertical-align: middle;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        td {
            padding: 10px 12px;
            border: 1px solid var(--color-border);
            /* –†–∞–∑—Ä–µ—à–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞ –≤ —è—á–µ–π–∫–∞—Ö –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ */
            white-space: normal;
        }

        .tasks-table-input {
            width: 100%;
            padding: 4px 6px;
            font-size: 11px;
            border-radius: 4px;
            border: 1px solid var(--color-border);
            /* –£–±–∏—Ä–∞–µ–º –æ–±—Ä–µ–∑–∫—É —Ç–µ–∫—Å—Ç–∞ - –ø—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ —Å—Ç–æ–ª–±—Ü–∞ —Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é */
            overflow: visible !important;
            text-overflow: clip !important;
            white-space: normal !important;
            word-wrap: break-word;
        }
        
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç—å –¥–ª—è input –ø–æ–ª–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ */
        .tasks-table td .tasks-table-input {
            overflow: visible !important;
            text-overflow: clip !important;
            white-space: normal !important;
        }

        .tasks-table-input[type="number"] {
            text-align: center;
        }

        /* –ò–∫–æ–Ω–∫–∞ —Å–∞–º–æ–ª–µ—Ç–∏–∫–∞ –¥–ª—è –∑–∞–¥–∞—á "–Ω–∞ –≤—ã–µ–∑–¥–µ" */
        .travel-icon {
            display: inline-block;
            margin-right: 4px;
            font-size: 14px;
            color: #2196f3;
            vertical-align: middle;
            cursor: default;
        }

        .gantt-travel-icon {
            font-size: 12px;
            color: white;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        /* –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ */
        body.view-mode .tasks-table-input[readonly],
        body.view-mode .tasks-table-input[data-field="startDate"],
        body.view-mode .tasks-table-input[data-field="endDate"],
        body.view-mode .tasks-table-input[data-field="days"],
        body.view-mode .tasks-table-input[data-field="stageSuffix"],
        body.view-mode .tasks-table-input[data-field="control"],
        body.view-mode .tasks-table-input[data-field="taskTitle"] {
            background-color: #f5f5f5;
            color: #666;
            cursor: not-allowed;
            opacity: 0.7;
        }

        /* –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ select –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ */
        body.view-mode .tasks-table-input-select[disabled] {
            background-color: #f5f5f5;
            color: #666;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .tasks-table-input-select {
            width: 100%;
            padding: 4px 6px;
            font-size: 11px;
            border-radius: 4px;
            border: 1px solid var(--color-border);
            background: #fff;
        }

        tr:nth-child(even) {
            background: #f9f9f9;
        }

        tr:hover {
            background: #f0f0f0;
        }

        tr.selected {
            background: #bbdefb !important;
        }

        /* –ü–æ–¥—Å–≤–µ—Ç–∫–∞/–∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —ç—Ç–∞–ø–∞–º */
        .gantt-row.stage-active {
            background: #e3f2fd;
        }

        .gantt-row.inactive {
            opacity: 0.25;
            filter: grayscale(0.4);
            pointer-events: none;
        }

        tr.stage-active {
            background: #e3f2fd;
        }

        tr.inactive {
            opacity: 0.4;
            color: #aaaaaa;
            pointer-events: none;
        }

        tr.dragging {
            opacity: 0.6;
        }

        tr.table-row-drop-target {
            background: #e3f2fd;
            box-shadow: inset 0 3px 0 var(--color-primary);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.75);
            align-items: center;
            justify-content: center;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
            backdrop-filter: blur(5px);
        }

        .modal[style*="display: block"],
        .modal[style*="display: flex"],
        .modal.show {
            display: flex !important;
        }

        .baseline-toast {
            position: fixed;
            left: 50%;
            top: 50%;
            max-width: 320px;
            padding: 12px 16px;
            background: rgba(0, 0, 0, 0.95);
            color: #fff;
            font-size: 13px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            opacity: 0;
            pointer-events: none;
            transform: translate(-50%, calc(-50% + 10px));
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 10000;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .baseline-toast {
                max-width: calc(100% - 30px);
                font-size: 11px;
                padding: 10px 14px;
            }
        }

        @media (max-width: 480px) {
            .baseline-toast {
                max-width: calc(100% - 20px);
                font-size: 10px;
                padding: 8px 12px;
            }
        }

        .baseline-toast.visible {
            opacity: 1;
            transform: translate(-50%, -50%);
        }

        /* –û–∫–Ω–æ —É–¥–∞–ª–µ–Ω–∏—è —ç—Ç–∞–ø–∞ –≤—Å–µ–≥–¥–∞ –ø–æ–≤–µ—Ä—Ö –æ–∫–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —ç—Ç–∞–ø–æ–≤ */
        #stageDeleteModal {
            z-index: 10001;
        }

        /* –û–∫–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ –≤—Å–µ–≥–¥–∞ –ø–æ–≤–µ—Ä—Ö –æ–∫–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —ç—Ç–∞–ø–æ–≤ */
        #renameStageModal {
            z-index: 10001;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –º–∞—Å—à—Ç–∞–±–µ - –≤—Å–µ–≥–¥–∞ –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ */
        #scaleWarningModal {
            z-index: 10002 !important;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è - –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ */
        #welcomeModal {
            z-index: 10003 !important;
        }

        .modal-content {
            background-color: var(--color-surface);
            margin: auto;
            padding: 20px;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            max-height: calc(100vh - 40px);
            box-shadow: var(--shadow-md);
            position: relative;
            align-self: center;
            overflow-y: auto;
            flex-shrink: 0;
            z-index: 10001;
        }

        /* –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∫–Ω–æ–ø–æ–∫ –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö */
        .modal-content .btn {
            pointer-events: auto !important;
            position: relative;
            z-index: 10002;
        }
        

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .modal-header h2 {
            font-size: 18px;
            color: var(--color-primary);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ */
        .text-input-modal-textarea {
            width: 100%;
            padding: 12px;
            font-size: 14px;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            font-family: inherit;
            resize: vertical;
            min-height: 120px;
            box-sizing: border-box;
        }

        .text-input-modal-textarea:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
        }

        @media (max-width: 768px) {
            .text-input-modal-textarea {
                font-size: 16px; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑—É–º –Ω–∞ iOS */
                min-height: 100px;
            }
        }

        .stage-settings-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 8px;
        }

        .stage-settings-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 12px;
            border-radius: 8px;
            border: 1px dashed var(--color-border);
            background: #fafafa;
            cursor: grab;
        }

        .stage-settings-item.dragging {
            opacity: 0.7;
            background: #e3f2fd;
        }

        .stage-settings-left {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stage-settings-handle {
            width: 16px;
            height: 16px;
            border-radius: 4px;
            border: 1px solid var(--color-border);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: var(--color-muted);
        }

        .stage-settings-name {
            font-size: 14px;
            font-weight: 500;
            cursor: default;
        }

        .stage-settings-name.editable {
            border-bottom: 1px dashed var(--color-border);
        }

        .stage-settings-delete-btn {
            border: none;
            background: transparent;
            color: #d32f2f;
            cursor: pointer;
            font-size: 13px;
            padding: 4px 8px;
            border-radius: 6px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .stage-settings-delete-btn:hover {
            background: #ffebee;
        }

        .stage-settings-footer {
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            margin-top: 16px;
        }

        .close {
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: var(--color-text-secondary);
        }

        .close:hover {
            color: var(--color-text);
        }

        .hidden {
            display: none;
        }

        .stage-tabs-container {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
            flex-wrap: wrap;
            align-items: center;
        }

        .stage-tabs {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            flex: 1;
        }

        .stage-tabs-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
            overflow: visible;
            position: relative;
        }

        .undo-btn,
        .redo-btn {
            padding: 10px 14px;
            border-radius: 20px;
            border: 2px solid #1976d2;
            background: #2196f3 !important;
            color: #ffffff !important;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 3px 10px rgba(33, 150, 243, 0.4);
            width: 44px;
            height: 44px;
            text-align: center;
            display: inline-flex !important;
            visibility: visible !important;
            opacity: 1 !important;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 100;
            white-space: nowrap;
            margin-right: 0;
            flex-shrink: 0;
        }
        
        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–º–µ–Ω—ã (—á—ë—Ä–Ω—ã–π —Ñ–æ–Ω, –∫–∞–∫ —É —Ä–µ–¥–∞–∫—Ü–∏–∏ —ç—Ç–∞–ø–æ–≤) */
        .undo-btn[data-tooltip],
        .redo-btn[data-tooltip] {
            position: relative;
        }
        
        .undo-btn[data-tooltip]::after,
        .redo-btn[data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.85) !important;
            color: #fff !important;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: bottom center;
            z-index: 9999;
        }
        
        .undo-btn[data-tooltip]:hover::after,
        .redo-btn[data-tooltip]:hover::after {
            opacity: 1 !important;
            transform: translateX(-50%) translateY(-6px);
            transition-delay: 1s;
        }

        .undo-btn:hover:not(.disabled),
        .redo-btn:hover:not(.disabled) {
            background: #1976d2 !important;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.4);
            border-color: #1565c0;
        }

        .undo-btn.disabled,
        .redo-btn.disabled {
            background: #f5f5f5;
            border-color: #e0e0e0;
            color: #bdbdbd;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .undo-btn::before,
        .redo-btn::before {
            content: '';
        }

        .stage-tab-btn {
            padding: 10px 20px;
            border-radius: 20px;
            border: 1px solid var(--color-primary);
            background: #e3f2fd;
            color: var(--color-primary);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: var(--shadow-sm);
            min-width: 120px;
            text-align: center;
        }

        .stage-tab-btn:hover {
            background: #bbdefb;
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .stage-tab-btn.active {
            background: var(--color-primary);
            color: #fff;
            box-shadow: var(--shadow-md);
        }

        /* –ö–Ω–æ–ø–∫–∞ "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" ‚Äî –ø–æ —Ä–∞–∑–º–µ—Ä—É –∏ —Ñ–æ—Ä–º–µ –∫–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–∏–¥–∞,
           –Ω–æ —Å —Ü–≤–µ—Ç–∞–º–∏, –∫–∞–∫ —É —Ç–∞–±–æ–≤ —ç—Ç–∞–ø–æ–≤. */
        .responsible-toggle-btn {
            padding: 6px 14px;
            border-radius: 999px;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        /* –ö–Ω–æ–ø–∫–∞ "–ó–∞–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –ø–ª–∞–Ω" ‚Äî —Ç–∞–∫–æ–π –∂–µ —Å—Ç–∏–ª—å –∫–∞–∫ "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" –∏ "–î–µ—Ç–∞–ª—å–Ω—ã–π –≤–∏–¥" */
        .baseline-set-btn {
            padding: 6px 14px !important;
            border-radius: 999px !important;
            font-size: 12px !important;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        /* –ö–Ω–æ–ø–∫–∞ "–°–≤—è–∑—å" ‚Äî —Ç–∞–∫–æ–π –∂–µ —Å—Ç–∏–ª—å –∫–∞–∫ –∫–Ω–æ–ø–∫–∞ "–î–∏—Ä–µ–∫—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω" */
        .link-toggle-btn {
            padding: 6px 14px;
            border-radius: 999px;
            border: 1px solid var(--color-primary);
            background: #e3f2fd;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            color: var(--color-primary);
            box-shadow: var(--shadow-sm);
            transition:
                background 0.25s ease,
                color 0.25s ease,
                box-shadow 0.25s ease,
                transform 0.25s ease;
        }

        .link-toggle-btn.active {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-hover) 100%);
            color: #ffffff;
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .link-toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* –ö–Ω–æ–ø–∫–∞ "–î–∏—Ä–µ–∫—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω" ‚Äî —Ç–∞–∫–æ–π –∂–µ —Å—Ç–∏–ª—å –∫–∞–∫ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
        .baseline-toggle-btn {
            padding: 6px 14px;
            border-radius: 999px;
            border: 1px solid var(--color-primary);
            background: #e3f2fd;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            color: var(--color-primary);
            box-shadow: var(--shadow-sm);
            transition:
                background 0.25s ease,
                color 0.25s ease,
                box-shadow 0.25s ease,
                transform 0.25s ease;
        }

        .baseline-toggle-btn.active {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-hover) 100%);
            color: #ffffff;
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .baseline-toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å—Ç–∏–ª—è –±–∞—Ä–æ–≤ –≤ –ì–∞–Ω—Ç–µ (–¥–µ—Ç–∞–ª—å–Ω—ã–π / –æ–±—â–∏–π –≤–∏–¥).
           –í –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç ¬´–î–µ—Ç–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É¬ª –∏ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Ç–∞–± —ç—Ç–∞–ø–æ–≤
           (–≥–æ–ª—É–±–æ–π —Ñ–æ–Ω, —Å–∏–Ω–∏–π –±–æ—Ä–¥–µ—Ä). –í –∞–∫—Ç–∏–≤–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ¬´–û–±—â–∏–π –≤–∏–¥¬ª –∏
           —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∏–Ω–µ–π ¬´–ø–∏–ª—é–ª–µ–π¬ª. */
        .gantt-style-toggle-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 14px;
            border-radius: 999px;
            border: 1px solid var(--color-primary);
            background: #e3f2fd;
            font-size: 12px;
            cursor: pointer;
            color: var(--color-primary);
            box-shadow: var(--shadow-sm);
            transition:
                background 0.25s ease,
                color 0.25s ease,
                box-shadow 0.25s ease,
                transform 0.25s ease;
        }

        .gantt-style-toggle-btn span {
            white-space: nowrap;
        }

        .gantt-style-toggle-btn.active {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-hover) 100%);
            color: #ffffff;
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .gantt-style-toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .stage-settings-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 32px;
            border-radius: 10px;
            border: 1px solid var(--color-primary);
            background: #e3f2fd;
            cursor: pointer;
            box-shadow: var(--shadow-sm);
            transition: background 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
            position: relative;
        }

        .stage-settings-btn:hover {
            background: #bbdefb;
            box-shadow: var(--shadow-md);
            transform: translateY(-1px);
        }

        /* –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–æ–≤ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ */
        body.view-mode .stage-settings-btn {
            display: none;
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Å –¥–≤—É–º—è —Å—Ç—Ä–æ–∫–∞–º–∏ (data-tooltip-line1 –∏ data-tooltip-line2) */
        .stage-settings-btn[data-tooltip-line1]::after,
        .gantt-style-toggle-btn[data-tooltip-line1]::after,
        .baseline-toggle-btn[data-tooltip-line1]::after {
            content: attr(data-tooltip-line1) "\A" attr(data-tooltip-line2);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translate(-50%, 0);
            padding: 6px 10px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            font-size: 11px;
            white-space: pre;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: bottom center;
            text-align: left;
            line-height: 1.4;
            min-width: 200px;
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (data-tooltip) */
        .stage-settings-btn[data-tooltip]:not([data-tooltip-line1])::after,
        .gantt-style-toggle-btn[data-tooltip]:not([data-tooltip-line1])::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translate(-50%, 0);
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.85);
            color: #fff;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: bottom center;
            z-index: 9999;
        }

        .baseline-set-btn::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translate(-50%, 0);
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: bottom center;
        }

        .stage-settings-btn:hover::after,
        .gantt-style-toggle-btn:hover::after,
        .baseline-toggle-btn:hover::after {
            opacity: 1;
            transform: translate(-50%, -6px);
            transition-delay: 1s;
        }

        /* Hover –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ —Å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π */
        .stage-settings-btn[data-tooltip]:not([data-tooltip-line1]):hover::after,
        .gantt-style-toggle-btn[data-tooltip]:not([data-tooltip-line1]):hover::after {
            opacity: 1 !important;
            transform: translate(-50%, -6px);
            transition-delay: 1s;
        }

        .baseline-set-btn:hover::after {
            opacity: 1;
            transform: translate(-50%, -6px);
            transition-delay: 1s;
        }

        .stage-settings-icon {
            position: relative;
            width: 18px;
            height: 16px;
        }

        .stage-settings-bar {
            position: absolute;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--color-primary);
            border-radius: 999px;
        }

        .stage-settings-bar-1 {
            top: 2px;
        }

        .stage-settings-bar-2 {
            top: 7px;
        }

        .stage-settings-bar-3 {
            top: 12px;
        }

        .stage-settings-knob {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            border: 2px solid var(--color-primary);
            background: #fff;
        }

        .stage-settings-knob-1 {
            top: -1px;
            left: 2px;
        }

        .stage-settings-knob-2 {
            top: 4px;
            right: 2px;
        }

        .stage-settings-knob-3 {
            top: 9px;
            left: 6px;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 1024px) {
            .container {
                max-width: 100%;
                padding: 15px;
            }

            header {
                padding: 25px 15px;
            }

            header h1 {
                font-size: 1.4rem;
            }

            .header-subtitle {
                font-size: 0.9rem;
            }

            .company-info {
                flex-direction: column;
                gap: 20px;
                align-items: center;
            }

            .company-logo-display {
                width: 100%;
                max-width: 300px;
                justify-content: center;
                margin: 0 auto;
            }
            
            .company-logo-preview {
                margin: 0 auto;
            }

            .company-name-block {
                width: 100%;
                text-align: center;
            }

            .controls {
                flex-wrap: wrap;
                gap: 10px;
            }

            .btn {
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            /* –î–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ –≤–∫–ª—é—á–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É –≥—Ä–∞—Ñ–∏–∫–∞ */
            .chart-container {
                overflow-x: auto;
                overflow-y: visible;
                -webkit-overflow-scrolling: touch;
                touch-action: pan-x pan-y pinch-zoom; /* –†–∞–∑—Ä–µ—à–∞–µ–º pinch-to-zoom */
            }

            .gantt-chart {
                overflow-x: auto;
                overflow-y: visible;
                -webkit-overflow-scrolling: touch;
                touch-action: pan-x pan-y pinch-zoom; /* –†–∞–∑—Ä–µ—à–∞–µ–º pinch-to-zoom */
                min-width: 100%;
            }

            .gantt-label {
                min-width: 120px;
                font-size: 0.75rem;
            }

            .gantt-header-cell {
                min-width: 35px;
                font-size: 0.7rem;
            }

            /* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö - –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏ */
            .profile-btn,
            .companies-btn,
            .companies-bottom-btn,
            .logout-btn {
                width: 40px;
                height: 40px;
                right: 25px !important;
            }
            
            .theme-toggle-btn {
                width: 40px;
                height: 40px;
            }

            .profile-btn {
                top: 25px;
            }

            .theme-toggle-btn {
                right: 70px !important;
                left: auto !important;
                top: 25px !important;
                position: absolute !important;
            }

            .logout-btn {
                top: 129px; /* 77px (top –≤—Ç–æ—Ä–æ–π) + 40px (–≤—ã—Å–æ—Ç–∞ –≤—Ç–æ—Ä–æ–π) + 12px (–æ—Ç—Å—Ç—É–ø) = 129px */
            }

            .companies-bottom-btn {
                top: 181px; /* 129px (top –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞) + 40px (–≤—ã—Å–æ—Ç–∞ –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞) + 12px (–æ—Ç—Å—Ç—É–ø) = 181px */
            }

            .help-btn {
                top: 233px !important; /* 181px (top –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π) + 40px (–≤—ã—Å–æ—Ç–∞ –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π) + 12px (–æ—Ç—Å—Ç—É–ø) = 233px */
                right: 25px !important;
                width: 40px !important;
                height: 40px !important;
            }

            /* –•–æ–≤–µ—Ä —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ */
            .profile-btn:hover:not(.animating),
            .logout-btn:hover:not(.animating),
            .companies-bottom-btn:hover:not(.animating),
            .help-btn:hover:not(.animating) {
                transform: translateY(-2px) scale(1.05) !important;
                box-shadow: 0 4px 12px rgba(66, 165, 245, 0.4) !important;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            header {
                padding: 20px 15px;
                margin-bottom: 20px;
            }

            header h1 {
                font-size: 1.2rem;
                line-height: 1.3;
            }

            .header-subtitle {
                font-size: 0.85rem;
                margin-top: 8px;
            }

            .company-info {
                flex-direction: column;
                gap: 15px;
                padding: 15px;
                align-items: center;
            }

            .company-logo-display {
                width: 100%;
                max-width: 250px;
                justify-content: center;
                margin: 0 auto;
            }

            .company-logo-preview {
                max-width: 200px;
                max-height: 150px;
                margin: 0 auto;
                display: block;
            }

            .company-name-display {
                font-size: 1.2rem;
                padding: 10px;
            }

            .controls {
                flex-direction: column;
                gap: 10px;
                padding: 15px;
            }

            .controls-left,
            .controls-right {
                width: 100%;
                flex-direction: column;
                gap: 10px;
            }

            .btn {
                width: 100%;
                padding: 12px;
                font-size: 0.9rem;
                justify-content: center;
                min-height: 44px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è touch –Ω–∞ iOS */
                touch-action: manipulation; /* –£–ª—É—á—à–∞–µ—Ç –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å –Ω–∞ touch */
            }

            .btn-icon {
                margin-right: 8px;
            }

            /* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö - –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏ */
            .profile-btn,
            .companies-btn,
            .companies-bottom-btn,
            .logout-btn {
                width: 38px;
                height: 38px;
                right: 15px !important;
            }

            .profile-btn {
                top: 15px;
            }

            .logout-btn {
                top: 65px; /* 15px (top –ø–µ—Ä–≤–æ–π) + 38px (–≤—ã—Å–æ—Ç–∞ –ø–µ—Ä–≤–æ–π) + 12px (–æ—Ç—Å—Ç—É–ø) = 65px */
            }

            .companies-bottom-btn {
                top: 115px; /* 65px (top –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞) + 38px (–≤—ã—Å–æ—Ç–∞ –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞) + 12px (–æ—Ç—Å—Ç—É–ø) = 115px */
            }

            .help-btn {
                top: 165px !important; /* 115px (top –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π) + 38px (–≤—ã—Å–æ—Ç–∞ –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π) + 12px (–æ—Ç—Å—Ç—É–ø) = 165px */
                right: 15px !important;
                width: 38px !important;
                height: 38px !important;
            }

            /* –•–æ–≤–µ—Ä —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .profile-btn:hover:not(.animating),
            .logout-btn:hover:not(.animating),
            .companies-bottom-btn:hover:not(.animating) {
                transform: translateY(-2px) scale(1.05) !important;
                box-shadow: 0 4px 12px rgba(66, 165, 245, 0.4) !important;
            }

            .profile-btn::before {
                width: 18px;
                height: 18px;
                border-width: 2.5px;
            }

            .companies-btn::before {
                width: 16px;
                height: 16px;
                border-width: 1.5px;
            }

            .logout-btn::before {
                border-right-width: 10px;
                border-top-width: 7px;
                border-bottom-width: 7px;
            }

            /* –ì—Ä–∞—Ñ–∏–∫ –ì–∞–Ω—Ç–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .chart-container {
                isolation: isolate;
                contain: layout style;
                position: relative;
                z-index: 1;
                max-width: 100%;
                overflow: hidden;
            }

            .gantt-chart {
                overflow-x: auto;
                overflow-y: visible;
                -webkit-overflow-scrolling: touch;
                position: relative;
                max-width: 100%;
                box-sizing: border-box;
                z-index: 1;
                touch-action: pan-x pan-y pinch-zoom; /* –†–∞–∑—Ä–µ—à–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É –∏ pinch-to-zoom –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö */
                /* –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ —Å–∫—Ä–æ–ª–ª–±–∞—Ä –≤—Å–µ–≥–¥–∞ –≤–∏–¥–µ–Ω –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ */
                scrollbar-width: thin; /* –î–ª—è Firefox */
                scrollbar-color: #90caf9 #e3f2fd; /* –î–ª—è Firefox */
            }

            /* –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –æ—Ç–∫–ª—é—á–∞–µ–º sticky –¥–ª—è –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞–∑–≤–∞–Ω–∏–π, —á—Ç–æ–±—ã –æ–Ω–∞ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª–∞ –≥—Ä–∞—Ñ–∏–∫ */
            .gantt-header-label,
            .gantt-label {
                position: static !important; /* –û—Ç–∫–ª—é—á–∞–µ–º sticky –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
                max-width: 100%;
                width: 100%;
                min-width: auto;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
                z-index: auto;
            }

            /* –Ø—á–µ–π–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞ */
            .gantt-row .gantt-cell {
                position: relative;
                z-index: 1;
                background: var(--color-bg);
            }

            .gantt-chart::-webkit-scrollbar {
                height: 8px;
            }

            .gantt-chart::-webkit-scrollbar-thumb {
                background: #90caf9;
                border-radius: 4px;
            }

            .gantt-chart::-webkit-scrollbar-track {
                background: #e3f2fd;
            }

            .gantt-label {
                min-width: 120px;
                max-width: 120px;
                width: 120px;
                font-size: 0.7rem;
                padding: 8px 6px;
                z-index: auto;
                position: static !important; /* –û—Ç–∫–ª—é—á–∞–µ–º sticky –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            }

            .gantt-header-label {
                min-width: 120px;
                max-width: 120px;
                width: 120px;
                z-index: auto;
                position: static !important; /* –û—Ç–∫–ª—é—á–∞–µ–º sticky –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            }

            /* –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –≥—Ä–∞—Ñ–∏–∫ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è */
            .gantt-cell,
            .gantt-header-cell {
                position: relative;
                z-index: 1;
            }

            .gantt-header-cell {
                min-width: 30px;
                font-size: 0.65rem;
                padding: 6px 4px;
            }

            .gantt-cell {
                min-width: 30px;
            }

            .gantt-bar {
                min-width: 20px;
            }

            /* –¢–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞—á –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .table-section {
                position: relative;
                z-index: 1;
                max-width: 100%;
                overflow-x: auto;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            /* –û—Ç–∫–ª—é—á–∞–µ–º sticky –¥–ª—è —à–∞–ø–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö, —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É */
            #tasksTable thead th {
                position: static !important;
            }

            .tasks-table-wrapper {
                overflow-x: auto;
                overflow-y: visible;
                -webkit-overflow-scrolling: touch;
                position: relative;
                width: 100%;
                max-width: 100%;
                box-sizing: border-box;
                touch-action: pan-x pan-y pinch-zoom; /* –†–∞–∑—Ä–µ—à–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É –∏ pinch-to-zoom –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            }

            .tasks-table-wrapper::-webkit-scrollbar {
                height: 8px;
            }

            .tasks-table-wrapper::-webkit-scrollbar-thumb {
                background: #90caf9;
                border-radius: 4px;
            }

            .tasks-table-wrapper::-webkit-scrollbar-track {
                background: #e3f2fd;
            }

            .tasks-table {
                width: 100%;
                font-size: 0.85rem;
                min-width: 800px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
            }

            .tasks-table th,
            .tasks-table td {
                padding: 8px 6px;
                font-size: 0.8rem;
            }

            .tasks-table-input {
                padding: 6px 8px;
                font-size: 0.8rem;
            }

            /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
            .statistics {
                flex-direction: column;
                gap: 10px;
                padding: 15px;
            }

            .stat-item {
                width: 100%;
                padding: 12px;
            }

            /* –≠—Ç–∞–ø—ã */
            .stage-tabs {
                flex-wrap: wrap;
                gap: 8px;
                padding: 10px;
                flex-direction: column;
            }

            .stage-tabs-buttons {
                width: 100%;
                display: flex;
                flex-direction: column; /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö */
                gap: 8px;
            }

            .stage-tab-btn {
                width: 100%; /* –í—Å–µ –∫–Ω–æ–ø–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —à–∏—Ä–∏–Ω—ã */
                padding: 10px 12px;
                font-size: 0.85rem;
                min-height: 44px;
            }

            /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ —Ç–æ–∂–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö */
            .stage-controls-buttons {
                flex-direction: column !important;
                width: 100%;
                gap: 8px !important;
            }

            /* –û–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö - –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —à–∏—Ä–∏–Ω—ã */
            .responsible-toggle-btn,
            .gantt-style-toggle-btn,
            .baseline-set-btn,
            .baseline-toggle-btn,
            .stage-settings-btn {
                width: 100%; /* –í—Å–µ –∫–Ω–æ–ø–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —à–∏—Ä–∏–Ω—ã */
                padding: 10px 12px;
                font-size: 0.8rem;
                min-height: 44px;
                justify-content: center;
            }

            /* –£–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–æ–∫ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö */
            .link-toggle-btn {
                font-size: 0.75rem;
            }
            .baseline-toggle-btn {
                font-size: 0.75rem;
            }

            /* –£–±–∏—Ä–∞–µ–º min-width –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö */
            .stage-tab-btn.responsible-toggle-btn {
                min-width: auto;
                flex: 0 0 auto;
            }

            .stage-tab {
                padding: 8px 12px;
                font-size: 0.85rem;
            }

            /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
            .modal-content {
                width: 95%;
                max-width: 95%;
                padding: 20px 15px;
                margin: 10% auto;
            }

            .modal-header h2 {
                font-size: 1.3rem;
            }

            .profile-modal-content {
                width: 95%;
                max-width: 95%;
                padding: 20px 15px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 8px;
            }

            header {
                padding: 15px 12px;
                margin-bottom: 15px;
            }

            header h1 {
                font-size: 1rem;
                line-height: 1.2;
            }

            .header-subtitle {
                font-size: 0.75rem;
                margin-top: 6px;
            }

            .company-info {
                padding: 12px;
                align-items: center;
            }
            
            .company-logo-display {
                justify-content: center;
                margin: 0 auto;
            }

            .company-logo-preview {
                max-width: 150px;
                max-height: 120px;
                margin: 0 auto;
                display: block;
            }

            .company-name-display {
                font-size: 1rem;
                padding: 8px;
            }

            .controls {
                padding: 12px;
            }

            .btn {
                padding: 10px;
                font-size: 0.85rem;
                min-height: 44px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è touch –Ω–∞ iOS */
                touch-action: manipulation; /* –£–ª—É—á—à–∞–µ—Ç –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å –Ω–∞ touch */
            }

            /* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö - –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏ */
            .profile-btn,
            .companies-btn,
            .companies-bottom-btn,
            .logout-btn {
                width: 35px;
                height: 35px;
                right: 12px !important;
            }
            
            .theme-toggle-btn {
                width: 35px;
                height: 35px;
            }

            .profile-btn {
                top: 12px;
            }

            .theme-toggle-btn {
                right: 60px !important;
                left: auto !important;
                top: 15px !important;
                position: absolute !important;
            }

            .logout-btn {
                top: 59px; /* 12px (top –ø–µ—Ä–≤–æ–π) + 35px (–≤—ã—Å–æ—Ç–∞ –ø–µ—Ä–≤–æ–π) + 12px (–æ—Ç—Å—Ç—É–ø) = 59px */
            }

            .companies-bottom-btn {
                top: 106px; /* 59px (top –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞) + 35px (–≤—ã—Å–æ—Ç–∞ –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞) + 12px (–æ—Ç—Å—Ç—É–ø) = 106px */
            }

            .help-btn {
                top: 153px !important; /* 106px (top –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π) + 35px (–≤—ã—Å–æ—Ç–∞ –∫–Ω–æ–ø–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π) + 12px (–æ—Ç—Å—Ç—É–ø) = 153px */
                right: 12px !important;
                width: 35px !important;
                height: 35px !important;
            }

            /* –•–æ–≤–µ—Ä —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
            .profile-btn:hover:not(.animating),
            .logout-btn:hover:not(.animating),
            .companies-bottom-btn:hover:not(.animating) {
                transform: translateY(-2px) scale(1.05) !important;
                box-shadow: 0 4px 12px rgba(66, 165, 245, 0.4) !important;
            }

            .gantt-label {
                min-width: 80px;
                max-width: 80px;
                font-size: 0.65rem;
                padding: 6px 4px;
                word-break: break-word;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .gantt-header-cell {
                min-width: 25px;
                font-size: 0.6rem;
                padding: 4px 2px;
            }

            .gantt-cell {
                min-width: 25px;
            }

            /* –£–ª—É—á—à–µ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .gantt-chart {
                overflow-x: auto;
                overflow-y: visible;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: thin;
                scrollbar-color: #90caf9 #e3f2fd;
            }

            .tasks-table {
                font-size: 0.75rem;
            }

            .tasks-table th,
            .tasks-table td {
                padding: 6px 4px;
                font-size: 0.7rem;
                /* –£–±–∏—Ä–∞–µ–º nowrap –¥–ª—è —è—á–µ–µ–∫, —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –≤ input –ø–æ–ª—è—Ö –º–æ–≥ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å—Å—è */
                white-space: normal;
            }

            .tasks-table-input {
                padding: 4px 6px;
                font-size: 0.7rem;
                width: 100%;
                min-width: 60px;
                /* –£–±–∏—Ä–∞–µ–º –æ–±—Ä–µ–∑–∫—É —Ç–µ–∫—Å—Ç–∞ - –ø—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ —Å—Ç–æ–ª–±—Ü–∞ —Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é */
                overflow: visible !important;
                text-overflow: clip !important;
                white-space: normal !important;
                word-wrap: break-word;
            }

            /* –£–ª—É—á—à–µ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .tasks-table-wrapper {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: thin;
                scrollbar-color: #90caf9 #e3f2fd;
            }

            .statistics {
                padding: 12px;
            }

            .stat-item {
                padding: 10px;
            }

            .stat-value {
                font-size: 1.5rem;
            }

            .stat-label {
                font-size: 0.75rem;
            }

            .stage-tabs {
                padding: 8px;
                flex-direction: column;
            }

            .stage-tabs-buttons {
                width: 100%;
                display: flex;
                flex-direction: column; /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
                gap: 8px;
            }

            .stage-tab-btn {
                width: 100%; /* –í—Å–µ –∫–Ω–æ–ø–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —à–∏—Ä–∏–Ω—ã */
                min-height: 44px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è touch –Ω–∞ iOS */
                padding: 10px 12px;
                font-size: 0.875rem;
                touch-action: manipulation; /* –£–ª—É—á—à–∞–µ—Ç –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å –Ω–∞ touch */
            }

            /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ —Ç–æ–∂–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .stage-controls-buttons {
                flex-direction: column !important;
                width: 100%;
                gap: 8px !important;
            }

            /* –û–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö - –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —à–∏—Ä–∏–Ω—ã */
            .link-toggle-btn,
            .responsible-toggle-btn,
            .gantt-style-toggle-btn,
            .baseline-set-btn,
            .baseline-toggle-btn,
            .stage-settings-btn {
                width: 100% !important; /* –í—Å–µ –∫–Ω–æ–ø–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —à–∏—Ä–∏–Ω—ã */
                padding: 10px 12px;
                font-size: 0.75rem;
                min-height: 44px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è touch –Ω–∞ iOS */
                touch-action: manipulation;
                justify-content: center;
                display: flex !important;
                align-items: center;
            }

            /* –£–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–∫–∏ "–î–∏—Ä–µ–∫—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω" –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .baseline-toggle-btn {
                font-size: 0.7rem;
                white-space: nowrap;
            }

            /* –ö–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ü–∏—è —ç—Ç–∞–ø–æ–≤" –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö - –ø–æ–ª–Ω–∞—è —à–∏—Ä–∏–Ω–∞ —Å —Ç–µ–∫—Å—Ç–æ–º */
            .stage-settings-btn {
                height: auto !important;
            }

            /* –£–±–∏—Ä–∞–µ–º min-width –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö, —á—Ç–æ–±—ã –æ–Ω–∞ –±—ã–ª–∞ —Ç–∞–∫–æ–≥–æ –∂–µ —Ä–∞–∑–º–µ—Ä–∞ */
            .stage-tab-btn.responsible-toggle-btn {
                min-width: auto;
                flex: 0 0 auto;
            }

            /* –ö–Ω–æ–ø–∫–∞ "–æ—Ç–º–µ–Ω–∞" –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö - –ø–æ–¥ –∫–Ω–æ–ø–∫–∞–º–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–æ–≤ */
            .stage-tabs-container {
                flex-direction: column;
                align-items: stretch;
            }

            .stage-tabs {
                order: 1;
                width: 100%;
            }

            .undo-btn {
                order: 2;
                width: 100%;
                margin-top: 8px;
            }

            .stage-tab {
                padding: 6px 10px;
                font-size: 0.75rem;
            }

            .modal-content {
                width: 98%;
                max-width: 98%;
                padding: 15px 12px;
                margin: 5% auto;
            }

            .modal-header h2 {
                font-size: 1.1rem;
            }

            .profile-modal-content {
                width: 98%;
                max-width: 98%;
                padding: 15px 12px;
            }

            .profile-modal-header h2 {
                font-size: 1.1rem;
            }

            .profile-form-group input {
                padding: 10px;
                font-size: 16px; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑—É–º –Ω–∞ iOS */
            }
        }

        /* Landscape –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 768px) and (orientation: landscape) {
            .container {
                padding: 8px;
            }

            header {
                padding: 15px 12px;
                margin-bottom: 10px;
            }

            header h1 {
                font-size: 1.1rem;
            }

            .controls {
                padding: 10px;
                gap: 8px;
            }

            .btn {
                padding: 8px 12px;
                font-size: 0.85rem;
            }

            .gantt-chart {
                max-height: 50vh;
            }

            .tasks-table-wrapper {
                max-height: 40vh;
            }
        }

        @media (max-width: 360px) {
            header h1 {
                font-size: 0.9rem;
            }

            .gantt-label {
                min-width: 70px;
                font-size: 0.6rem;
            }

            .gantt-header-cell {
                min-width: 20px;
                font-size: 0.55rem;
            }
        }

        /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 1024px) {
            .chart-container {
                overflow-x: auto;
                overflow-y: visible;
                -webkit-overflow-scrolling: touch;
                touch-action: pan-x pan-y;
            }

            .gantt-chart-wrapper {
                overflow-x: auto;
                overflow-y: visible;
                -webkit-overflow-scrolling: touch;
                position: relative;
                touch-action: pan-x pan-y;
            }

            .gantt-chart {
                min-width: 800px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è */
                touch-action: pan-x pan-y;
            }
        }

        @media (max-width: 768px) {
            .tasks-table-wrapper {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                touch-action: pan-x pan-y;
            }

            .tasks-table {
                min-width: 600px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã */
            }
        }

        @media print {
            .controls {
                display: none;
            }

            .chart-container {
                box-shadow: none;
                border: 1px solid var(--color-border);
            }
        }
        /* –§—É—Ç—Ç–µ—Ä */
        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--color-surface);
            border-top: 2px solid var(--color-primary);
            padding: 15px 20px;
            text-align: center;
            color: var(--color-text-secondary);
            font-size: 0.85rem;
            z-index: 100;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
        }

        .footer p {
            margin: 0;
        }

        @media (max-width: 768px) {
            .footer {
                font-size: 0.75rem;
                padding: 12px 15px;
            }
        }

        /* ========== –°–ò–°–¢–ï–ú–ê –ü–û–î–°–ö–ê–ó–û–ö –î–õ–Ø –ù–û–í–´–• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô ========== */
        
        /* –ö–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∫–∏ */
        .help-btn {
            position: absolute;
            top: 180px;
            right: 30px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #42a5f5 0%, #2196f3 100%);
            border: 2px solid #2c2c2c;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            z-index: 1000;
            font-size: 20px;
            font-weight: bold;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            overflow: visible;
        }

        .help-btn:hover {
            transform: translateY(-2px) scale(1.1);
            box-shadow: 0 6px 20px rgba(66, 165, 245, 0.6);
        }

        /* –ó–æ–ª–æ—Ç–∞—è —Ç–æ—á–∫–∞, –≤—Ä–∞—â–∞—é—â–∞—è—Å—è –ø–æ –∫—Ä—É–≥—É –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        .help-btn::before {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
            box-shadow: 0 0 4px rgba(255, 215, 0, 0.8);
            top: 50%;
            left: 50%;
            transform: translateX(-50%) translateY(-20px);
            opacity: 0;
            z-index: 1003;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        /* –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–æ–ª–æ—Ç—É—é —Ç–æ—á–∫—É –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é */
        .help-btn:hover::before {
            opacity: 1;
            animation: rotateDot 2s linear infinite;
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–ø—Ä–∞–≤–∫–∏ –≤ —Å—Ç–∏–ª–µ —Ä–µ–¥–∞–∫—Ü–∏–∏ —ç—Ç–∞–ø–æ–≤ */
        .help-btn[data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            top: calc(100% + 8px);
            left: 50%;
            transform: translate(-50%, 0);
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.85);
            color: #fff;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform-origin: top center;
            z-index: 9999;
        }

        .help-btn[data-tooltip]:hover::after {
            opacity: 1 !important;
            transform: translate(-50%, 6px);
            transition-delay: 1s;
        }

        /* –°–∏–º–≤–æ–ª ? –≤–Ω—É—Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏ */
        .help-btn .help-icon {
            position: relative;
            z-index: 1002;
            font-size: 20px;
            font-weight: bold;
            color: white;
        }

        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π */
        .new-feature-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 18px;
            height: 18px;
            background: #f44336;
            border-radius: 50%;
            border: 2px solid white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            color: white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.8;
            }
        }

        /* Overlay –¥–ª—è —Ç—É—Ä–æ–≤ */
        .tour-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10000;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tour-overlay.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ —Ç—É—Ä–µ */
        .tour-highlight {
            position: relative;
            z-index: 10001;
            box-shadow: 0 0 0 4px rgba(66, 165, 245, 0.8),
                        0 0 20px rgba(66, 165, 245, 0.6),
                        0 0 40px rgba(66, 165, 245, 0.4);
            border-radius: 8px;
            animation: highlightPulse 2s infinite;
        }

        @keyframes highlightPulse {
            0%, 100% {
        box-shadow: 0 0 0 4px rgba(66, 165, 245, 0.8),
                    0 0 20px rgba(66, 165, 245, 0.6),
                    0 0 40px rgba(66, 165, 245, 0.4);
            }
            50% {
        box-shadow: 0 0 0 6px rgba(66, 165, 245, 1),
                    0 0 30px rgba(66, 165, 245, 0.8),
                    0 0 60px rgba(66, 165, 245, 0.6);
            }
        }

        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ —Ç—É—Ä–∞ */
        .tour-tooltip {
            position: fixed;
            background: white;
            border-radius: 12px;
            padding: 20px;
            max-width: 400px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            z-index: 10002;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tour-tooltip h3 {
            margin: 0 0 10px 0;
            color: #2196f3;
            font-size: 1.2rem;
        }

        .tour-tooltip p {
            margin: 0 0 15px 0;
            color: #333;
            line-height: 1.6;
        }

        .tour-tooltip .tour-progress {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 15px;
        }

        .tour-tooltip .tour-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .tour-tooltip button {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .tour-tooltip .tour-btn-skip {
            background: #e0e0e0;
            color: #333;
        }

        .tour-tooltip .tour-btn-skip:hover {
            background: #d0d0d0;
        }

        .tour-tooltip .tour-btn-next {
            background: #2196f3;
            color: white;
        }

        .tour-tooltip .tour-btn-next:hover {
            background: #1976d2;
        }

        .tour-tooltip .tour-btn-finish {
            background: #4caf50;
            color: white;
        }

        .tour-tooltip .tour-btn-finish:hover {
            background: #45a049;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–ø—Ä–∞–≤–∫–∏ */
        .help-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10003;
            animation: fadeIn 0.3s ease;
        }

        .help-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .help-modal-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease;
            position: relative;
        }

        .help-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }

        .help-modal-header h2 {
            margin: 0;
            color: #2196f3;
            font-size: 1.5rem;
        }

        .help-modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .help-modal-close:hover {
            background: #f0f0f0;
            color: #333;
        }

        .help-section {
            margin-bottom: 25px;
        }

        .help-section h3 {
            color: #2196f3;
            margin: 0 0 10px 0;
            font-size: 1.2rem;
        }

        .help-section ul {
            margin: 0;
            padding-left: 20px;
        }

        .help-section li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .help-key {
            display: inline-block;
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 2px 8px;
            font-family: monospace;
            font-size: 0.9em;
            margin: 0 2px;
        }

        /* –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π */
        .feature-tooltip {
            position: fixed;
            background: #2196f3;
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 10004;
            max-width: 300px;
            animation: slideIn 0.3s ease;
            pointer-events: none;
        }

        .feature-tooltip::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 20px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid #2196f3;
        }

        @media (max-width: 768px) {
            /* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ —É–∂–µ –∑–∞–¥–∞–Ω–æ –≤ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å–∞—Ö –≤—ã—à–µ, –∑–¥–µ—Å—å —Ç–æ–ª—å–∫–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
            .help-btn {
                font-size: 18px;
            }

            .tour-tooltip {
                max-width: 90%;
                padding: 15px;
            }

            .help-modal-content {
                max-width: 90%;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- –ù–∞–¥–ø–∏—Å—å DeadLinePro –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É -->
    <div id="deadlineProLabel" style="position: fixed; top: 20px; right: 20px; z-index: 9999; font-size: 32px; font-weight: 600; color: rgba(33, 150, 243, 0.5); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; pointer-events: none; user-select: none;">DeadLinePro</div>
    <div class="container">
        <header>
            <button class="logout-btn" id="logoutBtn" data-tooltip="–í—ã—Ö–æ–¥" style="display: none;" onclick="logout()">
                <span class="logout-icon"></span>
                <span class="logout-tooltip">–í—ã—Ö–æ–¥</span>
            </button>
            <button class="profile-btn" id="profileBtn" data-tooltip="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å" style="display: none;">
                <span class="profile-icon-head"></span>
                <span class="profile-icon-mouth"></span>
                <span class="profile-icon-shoulders"></span>
                <span class="profile-tooltip">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</span>
            </button>
            <!-- –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ —Å–ø–∏—Å–∫—É –∫–æ–º–ø–∞–Ω–∏–π (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∞—Ä—Ö–∏–≤–æ–º) -->
            <button class="companies-bottom-btn" id="companiesBottomBtn" data-tooltip="–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–æ–º–ø–∞–Ω–∏—è–º" style="display: none;" onclick="goToCompanies()">
                <span class="companies-bottom-icon"></span>
                <span class="companies-bottom-tooltip">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–æ–º–ø–∞–Ω–∏—è–º</span>
            </button>
            <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã -->
            <button class="theme-toggle-btn" id="themeToggleBtn" data-tooltip="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É" onclick="toggleTheme()">
                <span class="theme-tooltip">–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É</span>
            </button>
            <!-- –ö–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∫–∏ -->
            <button class="help-btn" id="helpBtn" data-tooltip="–°–ø—Ä–∞–≤–∫–∞ –ø–æ –≥–æ—Ä—è—á–∏–º –∫–ª–∞–≤–∏—à–∞–º" style="display: none;">
                <span class="help-icon">?</span>
                <span class="new-feature-badge" id="helpBadge" style="display: none;">!</span>
            </button>
            <h1>
                <span class="header-icon"></span>
                <span>–ì—Ä–∞—Ñ–∏–∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏ –æ–±—É—á–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã ICONA</span>
            </h1>
            <p class="header-subtitle">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∞ —Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤</p>
            <div class="company-info">
                <div class="company-logo-display" id="companyLogoWrapper">
                    <img id="companyLogo" class="company-logo-preview" src="favicon.png" alt="–õ–æ–≥–æ—Ç–∏–ø –∫–æ–º–ø–∞–Ω–∏–∏">
                </div>
                <div class="company-name-block">
                    <span class="company-name-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏</span>
                    <div
                        id="companyNameDisplay"
                        class="company-name-display"
                        data-placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏"
                    >–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏</div>
                    <div
                        id="companyObjectNameDisplay"
                        class="company-object-name-display"
                        style="display: none;"
                    ></div>
                </div>
            </div>
        </header>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-label">–í—Å–µ–≥–æ —ç—Ç–∞–ø–æ–≤</div>
                <div class="stat-value" id="totalStages">4</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–¥–∞—á</div>
                <div class="stat-value" id="totalTasks">51</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">–†–∞–±–æ—á–∏—Ö –¥–Ω–µ–π</div>
                <div class="stat-value" id="totalDays">265</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è</div>
                <div class="stat-value" id="completionDate">-</div>
            </div>
        </div>

        <div class="controls">
            <button class="btn btn-secondary reset-plan-btn" onclick="resetSchedule()" data-tooltip="–°–±—Ä–æ—Å–∏—Ç—å –ø–ª–∞–Ω">
                <span class="btn-icon btn-icon-reset"></span>
            </button>
            <button class="btn btn-primary" id="saveButton" onclick="manualSaveGantt()" data-tooltip="–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è">
                <span class="btn-icon">üíæ</span>
                <span id="saveButtonText">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span>
            </button>
            <button class="btn btn-secondary view-toggle-btn" onclick="toggleView()">
                <span class="btn-icon btn-icon-toggle"></span>
                <span class="view-toggle-label">
                    <span class="view-toggle-part view-toggle-gantt">–ì–∞–Ω—Ç</span>
                    <span class="view-toggle-separator">/</span>
                    <span class="view-toggle-part view-toggle-table">–¢–∞–±–ª–∏—Ü–∞</span>
                </span>
            </button>
            <button class="btn btn-primary" onclick="openPDFExportModal()">
                <span class="btn-icon btn-icon-pdf"></span>
                <span>–í—ã–≥—Ä—É–∑–∏—Ç—å –≤ PDF</span>
            </button>
            <button class="btn btn-primary" onclick="openExcelExportModal()">
                <span class="btn-icon btn-icon-excel"></span>
                <span>–í—ã–≥—Ä—É–∑–∏—Ç—å –≤ Excel</span>
            </button>
            <div style="display: inline-flex; align-items: center; gap: 8px;">
                <div class="search-input-container" style="position: relative; display: inline-block;">
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="–ü–æ–∏—Å–∫ –ø–æ –∑–∞–¥–∞—á–∞–º..."
                        style="
                            padding: 8px 40px 8px 12px;
                            font-size: 14px;
                            border: 2px solid #e0e0e0;
                            border-radius: 8px;
                            width: 250px;
                            box-sizing: border-box;
                            transition: border-color 0.3s ease;
                        "
                        autocomplete="off"
                        data-tooltip="–ü–æ–∏—Å–∫ –ø–æ –∑–∞–¥–∞—á–∞–º (Ctrl+F)"
                    >
                    <span class="search-icon" style="
                        position: absolute;
                        right: 12px;
                        top: 50%;
                        transform: translateY(-50%);
                        width: 18px;
                        height: 18px;
                        pointer-events: none;
                        opacity: 0.6;
                    ">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 100%; height: 100%;">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </span>
                </div>
                <div id="searchNavigation" style="display: none; align-items: center; gap: 4px;">
                    <button 
                        id="searchPrevBtn"
                        onclick="navigateSearchResults(-1)"
                        style="
                            padding: 4px 8px;
                            font-size: 16px;
                            border: 2px solid #2196f3;
                            border-radius: 4px;
                            background: #fff;
                            color: #2196f3;
                            cursor: pointer;
                            transition: all 0.2s ease;
                            width: 32px;
                            height: 32px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            line-height: 1;
                        "
                        onmouseover="this.style.background='#e3f2fd'"
                        onmouseout="this.style.background='#fff'"
                        data-tooltip="–ü—Ä–µ–¥—ã–¥—É—â–∞—è (Shift+Enter)"
                    >
                        ‚Üê
                    </button>
                    <span 
                        id="searchCounter"
                        style="
                            font-size: 12px;
                            color: #666;
                            min-width: 50px;
                            text-align: center;
                        "
                    ></span>
                    <button 
                        id="searchNextBtn"
                        onclick="navigateSearchResults(1)"
                        style="
                            padding: 4px 8px;
                            font-size: 16px;
                            border: 2px solid #2196f3;
                            border-radius: 4px;
                            background: #fff;
                            color: #2196f3;
                            cursor: pointer;
                            transition: all 0.2s ease;
                            width: 32px;
                            height: 32px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            line-height: 1;
                        "
                        onmouseover="this.style.background='#e3f2fd'"
                        onmouseout="this.style.background='#fff'"
                        data-tooltip="–°–ª–µ–¥—É—é—â–∞—è (Enter)"
                    >
                        ‚Üí
                    </button>
                </div>
            </div>

            <div class="zoom-controls">
                <span class="zoom-label">–ú–∞—Å—à—Ç–∞–± –ø–æ –≤—Ä–µ–º–µ–Ω–∏:</span>
                <button class="btn btn-secondary" onclick="decreaseZoom()">‚àí</button>
                <input type="range" id="zoomRange" class="zoom-range" min="40" max="200" value="120" step="5" onchange="onZoomChange(this.value)">
                <button class="btn btn-secondary" onclick="increaseZoom()">+</button>
                <span class="zoom-label" style="margin-left: 8px;">–î–ª—è –∑—É–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–∂–º–∏—Ç–µ Z+–∫–æ–ª–µ—Å–æ –º—ã—à–∏</span>
            </div>
        </div>

        <div class="stage-tabs-container" style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px; flex-wrap: wrap;">
            <button 
                class="undo-btn" 
                id="undoBtn"
                onclick="undoLastAction()"
                data-tooltip="–û—Ç–º–µ–Ω–∏—Ç—å"
            >‚Ü∂</button>
            <button 
                class="redo-btn" 
                id="redoBtn"
                onclick="redoLastAction()"
                data-tooltip="–ü–æ–≤—Ç–æ—Ä–∏—Ç—å"
            >‚Ü∑</button>
            <div class="stage-tabs">
                <div class="stage-tabs-buttons" style="display: none;">
                    <button class="stage-tab-btn active">–í—Å–µ —ç—Ç–∞–ø—ã</button>
                    <button class="stage-tab-btn">–≠—Ç–∞–ø 1</button>
                    <button class="stage-tab-btn">–≠—Ç–∞–ø 2</button>
                    <button class="stage-tab-btn">–≠—Ç–∞–ø 3</button>
                    <button class="stage-tab-btn">–≠—Ç–∞–ø 4</button>
                </div>
                <div class="stage-controls-buttons" style="display: flex; align-items: center; gap: 8px;">
                <button
                    class="link-toggle-btn"
                    id="linkToggleBtn"
                    onclick="toggleLinkColumn()"
                    data-tooltip="–ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å —Å—Ç–æ–ª–±–µ—Ü '–°–≤—è–∑—å'"
                >
                    –°–≤—è–∑—å
                </button>
                <button
                    class="stage-tab-btn responsible-toggle-btn"
                    id="responsibleToggleBtn"
                    onclick="toggleResponsibleColumn()"
                    data-tooltip="–ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å —Å—Ç–æ–ª–±–µ—Ü '–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π'"
                >
                    –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π
                </button>
                <button
                    class="baseline-toggle-btn"
                    id="baselineToggleBtn"
                    onclick="toggleBaselineDisplay()"
                    data-tooltip-line1="–ó–∞–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –ø–ª–∞–Ω (F2)"
                    data-tooltip-line2="–°–∫—Ä—ã—Ç—å/–ø–æ–∫–∞–∑–∞—Ç—å –±–∞–∑–æ–≤—ã–π –ø–ª–∞–Ω (F3)"
                >
                    –ë–∞–∑–æ–≤—ã–π –ø–ª–∞–Ω
                </button>
                <button
                    class="gantt-style-toggle-btn"
                    id="ganttStyleToggleBtn"
                    onclick="toggleGanttBarStyle()"
                    data-tooltip="–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–Ω–µ–π –≤ –¥–∏–∞–≥—Ä–∞–º–º–µ –ì–∞–Ω—Ç–∞"
                >
                    <span>–î–µ—Ç–∞–ª—å–Ω—ã–π –≤–∏–¥</span>
                </button>
                <button class="stage-settings-btn" onclick="openStageSettingsModal(event)" data-tooltip="–†–µ–¥–∞–∫—Ü–∏—è —ç—Ç–∞–ø–æ–≤">
                    <span class="stage-settings-icon">
                        <span class="stage-settings-bar stage-settings-bar-1"></span>
                        <span class="stage-settings-bar stage-settings-bar-2"></span>
                        <span class="stage-settings-bar stage-settings-bar-3"></span>
                        <span class="stage-settings-knob stage-settings-knob-1"></span>
                        <span class="stage-settings-knob stage-settings-knob-2"></span>
                        <span class="stage-settings-knob stage-settings-knob-3"></span>
                    </span>
                </button>
                </div>
            </div>
        </div>

        <div class="chart-container view-active">
            <div id="ganttChart" class="gantt-chart"></div>
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(135deg, #1e88e5 0%, #0b5ed7 100%);"></div>
                    <span>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);"></div>
                    <span>–í –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(135deg, #4caf50 0%, #388e3c 100%);"></div>
                    <span>–ó–∞–≤–µ—Ä—à–µ–Ω–æ</span>
                </div>
            </div>
        </div>

        <div class="table-section view-hidden">
            <h2><span class="btn-icon btn-icon-table"></span> –î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞—á</h2>
            <table id="tasksTable" class="tasks-table">
                <thead>
                    <tr>
                        <th>‚Ññ –ø/–ø</th>
                        <th>–í—ã–±–æ—Ä —ç—Ç–∞–ø–∞</th>
                        <th>–≠—Ç–∞–ø</th>
                        <th>–í–∏–¥ –∫–æ–Ω—Ç—Ä–æ–ª—è</th>
                        <th>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</th>
                        <th>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</th>
                        <th>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</th>
                        <th>–†–∞–±–æ—á–∏—Ö –¥–Ω–µ–π</th>
                        <th class="table-col-responsible">–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                    </tr>
                </thead>
                <tbody id="tasksTableBody"></tbody>
            </table>
        </div>
    </div>

    <!-- –ú–µ–Ω—é –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —è—á–µ–π–∫–∏/–¥–∏–∞–ø–∞–∑–æ–Ω–∞ –ø–æ –¥–∞—Ç–µ -->
    <div id="statusMenu" class="status-menu">
        <div class="status-menu-item" data-status="pending">
            <div class="status-color-box" style="background: linear-gradient(135deg, #1e88e5 0%, #0b5ed7 100%);"></div>
            <span>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</span>
        </div>
        <div class="status-menu-item" data-status="in-progress">
            <div class="status-color-box" style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);"></div>
            <span>–í —Ä–∞–±–æ—Ç–µ</span>
        </div>
        <div class="status-menu-item" data-status="completed">
            <div class="status-color-box" style="background: linear-gradient(135deg, #4caf50 0%, #388e3c 100%);"></div>
            <span>–ó–∞–≤–µ—Ä—à–µ–Ω–æ (—Å –Ω–∞—á–∞–ª–∞ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–∞—Ç—É)</span>
        </div>
    </div>

    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞</h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="form-group">
                <label for="startDateInput">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞ (—Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å):</label>
                <input type="date" id="startDateInput" value="">
            </div>
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn btn-primary" onclick="updateStartDate()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∫ —Å—Ç–∞—Ç—É—Å—É "–í —Ä–∞–±–æ—Ç–µ"/"–ó–∞–≤–µ—Ä—à–µ–Ω–æ" -->
    <div id="statusCommentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ —Å—Ç–∞—Ç—É—Å—É</h2>
                <span class="close" onclick="cancelStatusComment()">&times;</span>
            </div>
            <div class="form-group">
                <label for="statusCommentInput">–û–ø–∏—à–∏—Ç–µ, —á—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
                <textarea id="statusCommentInput" class="status-comment-input" rows="3"></textarea>
            </div>
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn btn-primary" onclick="confirmStatusComment()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="cancelStatusComment()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
    <div id="welcomeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
                <span class="close" onclick="closeWelcomeModal()">&times;</span>
            </div>
            <div class="form-group">
                <p style="margin-bottom: 15px; line-height: 1.6; color: var(--color-text);">
                    –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è <span style="color: #4FC3F7; font-size: 1.15em; font-weight: 600;">DeadLinePro</span>! 
                    –ú—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ –¥–ª—è –≤–∞—Å –∫—Ä–∞—Ç–∫–∏–π —Ç—É—Ä –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ –æ—Å–≤–æ–∏—Ç—å—Å—è.
                </p>
                <p style="margin-bottom: 20px; line-height: 1.6; color: var(--color-text-secondary);">
                    –•–æ—Ç–∏—Ç–µ –ø—Ä–æ–π—Ç–∏ –∫—Ä–∞—Ç–∫–∏–π —Ç—É—Ä –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É?
                </p>
            </div>
            <div style="display: flex; gap: 10px; margin-top: 20px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="closeWelcomeModal()">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
                <button class="btn btn-primary" onclick="startTourFromWelcome()">–ù–∞—á–∞—Ç—å —Ç—É—Ä</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ -->
    <div id="textInputModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="textInputModalTitle">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
                <span class="close" onclick="closeTextInputModal()">&times;</span>
            </div>
            <div class="form-group">
                <label id="textInputModalLabel" for="textInputModalTextarea">–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç:</label>
                <textarea id="textInputModalTextarea" class="text-input-modal-textarea" rows="5" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."></textarea>
            </div>
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn btn-primary" onclick="saveTextInputModal()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="closeTextInputModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div id="pdfExportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–í—ã–≥—Ä—É–∑–∫–∞ –≤ PDF</h2>
                <span class="close" onclick="closePDFExportModal()">&times;</span>
            </div>
            <p style="margin-bottom: 12px;">
                –ë—É–¥–µ—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω PDF-—Ñ–∞–π–ª —Å –¥–∏–∞–≥—Ä–∞–º–º–æ–π –ì–∞–Ω—Ç–∞ –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –º–∞—Å—à—Ç–∞–±–µ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π –∑–∞–¥–∞—á —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏.
            </p>
            <div class="form-group" style="margin-bottom: 16px;">
                <label for="pdfScaleMode">–ú–∞—Å—à—Ç–∞–± –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ì–∞–Ω—Ç–∞:</label>
                <select id="pdfScaleMode">
                    <option value="day">–î–Ω–∏</option>
                    <option value="week">–ù–µ–¥–µ–ª–∏</option>
                    <option value="month">–ú–µ—Å—è—Ü—ã</option>
                </select>
            </div>
            <div class="form-group pdf-content-toggle" style="margin-bottom: 16px;">
                <label>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ PDF:</label>
                <div class="pdf-toggle-options">
                    <label class="pdf-toggle-option">
                        <input type="radio" name="pdfContentMode" value="full" checked>
                        <span>–° –¥–∏–∞–≥—Ä–∞–º–º–æ–π</span>
                    </label>
                    <label class="pdf-toggle-option">
                        <input type="radio" name="pdfContentMode" value="table">
                        <span>–¢–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü–∞</span>
                    </label>
                </div>
            </div>
            <div style="display: flex; gap: 10px; margin-top: 10px;">
                <button class="btn btn-primary" onclick="confirmPDFExport()">–í—ã–≥—Ä—É–∑–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="closePDFExportModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div id="excelExportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–í—ã–≥—Ä—É–∑–∫–∞ –≤ Excel</h2>
                <span class="close" onclick="closeExcelExportModal()">&times;</span>
            </div>
            <p style="margin-bottom: 12px;">
                –ë—É–¥–µ—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω —Ñ–∞–π–ª Excel —Å –¥–≤—É–º—è –ª–∏—Å—Ç–∞–º–∏:
                –Ω–∞ –ø–µ—Ä–≤–æ–º ‚Äî –¥–∏–∞–≥—Ä–∞–º–º–∞ –ì–∞–Ω—Ç–∞ –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –º–∞—Å—à—Ç–∞–±–µ, –Ω–∞ –≤—Ç–æ—Ä–æ–º ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞—á.
            </p>
            <div class="form-group" style="margin-bottom: 16px;">
                <label for="excelScaleMode">–ú–∞—Å—à—Ç–∞–± –ì–∞–Ω—Ç–∞:</label>
                <select id="excelScaleMode">
                    <option value="day">–î–Ω–∏</option>
                    <option value="week">–ù–µ–¥–µ–ª–∏</option>
                    <option value="month">–ú–µ—Å—è—Ü—ã</option>
                    <option value="year">–ì–æ–¥—ã</option>
                </select>
            </div>
            <div style="display: flex; gap: 10px; margin-top: 10px;">
                <button class="btn btn-primary" onclick="confirmExcelExport()">–í—ã–≥—Ä—É–∑–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="closeExcelExportModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div id="deleteConfirmModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É?</h2>
                <span class="close" onclick="cancelDeleteTask()">&times;</span>
            </div>
            <p>–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –∑–∞–¥–∞—á—É –∏–∑ –≥—Ä–∞—Ñ–∏–∫–∞?</p>
            <div style="display: flex; gap: 10px; margin-top: 20px; justify-content: center;">
                <button class="btn btn-primary" onclick="confirmDeleteTask()">–î–∞, —É–¥–∞–ª–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="cancelDeleteTask()">–ù–µ—Ç</button>
            </div>
        </div>
    </div>

    <div id="stageDeleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–£–¥–∞–ª–∏—Ç—å —ç—Ç–∞–ø?</h2>
                <span class="close" onclick="cancelDeleteStage()">&times;</span>
            </div>
            <p id="stageDeleteText">–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç—Ç–∞–ø —Å–æ –≤—Å–µ–º–∏ –µ–≥–æ –∑–∞–¥–∞—á–∞–º–∏?</p>
            <div style="display: flex; gap: 10px; margin-top: 20px; justify-content: center;">
                <button class="btn btn-primary" onclick="confirmDeleteStage()">–î–∞, —É–¥–∞–ª–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="cancelDeleteStage()">–ù–µ—Ç</button>
            </div>
        </div>
    </div>

    <div id="resetPlanConfirmModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–°–±—Ä–æ—Å–∏—Ç—å –ø–ª–∞–Ω?</h2>
                <span class="close" onclick="cancelResetPlan()">&times;</span>
            </div>
            <p>–í—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å —Å–±—Ä–æ—Å–∏—Ç—å –º–Ω–æ–≥–æ–µ, —á—Ç–æ –≤—ã —Å–¥–µ–ª–∞–ª–∏, –≤—ã —É–≤–µ—Ä–µ–Ω—ã?</p>
            <div style="display: flex; gap: 10px; margin-top: 20px; justify-content: center;">
                <button class="btn btn-primary" onclick="confirmResetPlan()">–î–∞</button>
                <button class="btn btn-secondary" onclick="cancelResetPlan()">–ù–µ—Ç</button>
            </div>
        </div>
    </div>


    <div id="scaleWarningModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–í–Ω–∏–º–∞–Ω–∏–µ!</h2>
                <span class="close" onclick="cancelScaleWarning()">&times;</span>
            </div>
            <p id="scaleWarningText">–í—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å –ø—Ä–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ–π –Ω–µ–¥–µ–ª–µ. –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å?</p>
            <p style="color: #ff9800; font-weight: 500; margin-top: 10px;">–°—Ç–∞—Ç—É—Å –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—ë–Ω –∫–æ –≤—Å–µ–º –¥–Ω—è–º –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞.</p>
            <div style="display: flex; gap: 10px; margin-top: 20px; justify-content: center;">
                <button class="btn btn-primary" onclick="confirmScaleWarning()">–î–∞, –ø—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="cancelScaleWarning()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div id="undoConfirmModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–û—Ç–º–µ–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ?</h2>
                <span class="close" onclick="cancelUndo()">&times;</span>
            </div>
            <p>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ –æ—Ç–º–µ–Ω–∏—Ç –≤–∞—à–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è.</p>
            <p style="color: #ff9800; font-weight: 500; margin-top: 10px;">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–∫–∞—Ç–∏—Ç—å?</p>
            <div style="display: flex; gap: 10px; margin-top: 20px; justify-content: center;">
                <button class="btn btn-primary" onclick="confirmUndo()">–î–∞, –æ—Ç–º–µ–Ω–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="cancelUndo()">–ù–µ—Ç</button>
            </div>
        </div>
    </div>

    <div id="stageSettingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç—Ç–∞–ø–æ–≤</h2>
                <span class="close" onclick="closeStageSettingsModal()">&times;</span>
            </div>
            <p style="margin-bottom: 12px;">
                –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —ç—Ç–∞–ø—ã, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫. –î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å.
            </p>
            <div id="stageSettingsList" class="stage-settings-list"></div>
            <div class="stage-settings-footer">
                <button class="btn btn-secondary" onclick="addNewStage()">–î–æ–±–∞–≤–∏—Ç—å —ç—Ç–∞–ø</button>
                <button class="btn btn-secondary" onclick="closeStageSettingsModal()">–ì–æ—Ç–æ–≤–æ</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ -->
    <div id="renameStageModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —ç—Ç–∞–ø</h2>
                <span class="close" onclick="closeRenameStageModal()">&times;</span>
            </div>
            <div class="form-group">
                <label for="renameStageInput">–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞:</label>
                <input type="text" id="renameStageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞">
            </div>
            <div style="display: flex; gap: 10px; margin-top: 20px; justify-content: center;">
                <button class="btn btn-primary" onclick="confirmRenameStage()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="closeRenameStageModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –±–∞–∑–æ–≤–æ–≥–æ –ø–ª–∞–Ω–∞ -->
    <div id="baselineConfirmModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –±–∞–∑–æ–≤—ã–π –ø–ª–∞–Ω?</h2>
                <span class="close" onclick="cancelBaselineOverwrite()">&times;</span>
            </div>
            <p>–î–∏—Ä–µ–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω. –ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –µ–≥–æ —Ç–µ–∫—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∑–∞–¥–∞—á?</p>
            <div style="display: flex; gap: 10px; margin-top: 20px; justify-content: center;">
                <button class="btn btn-primary" onclick="confirmBaselineOverwrite()">–î–∞, –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å</button>
                <button class="btn btn-secondary" onclick="cancelBaselineOverwrite()">–ù–µ—Ç</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞—Ç -->
    <div id="dateValidationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–∞—Ç</h2>
                <span class="close" onclick="closeDateValidationModal()">&times;</span>
            </div>
            <p id="dateValidationMessage">
                –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞.
            </p>
            <div style="display: flex; gap: 10px; margin-top: 20px; justify-content: center;">
                <button class="btn btn-primary" onclick="closeDateValidationModal()">–ü–æ–Ω—è—Ç–Ω–æ</button>
            </div>
        </div>
    </div>

    <!-- –ù–µ–±–æ–ª—å—à–æ–π toast –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ –±–∞–∑–æ–≤–æ–º—É –ø–ª–∞–Ω—É -->
    <div id="baselineToast" class="baseline-toast">    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è -->
    <div id="profileModal" class="profile-modal">
        <div class="profile-modal-content">
            <div class="profile-modal-header">
                <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</h2>
                <button class="profile-modal-close" onclick="closeProfileModal()">&times;</button>
            </div>
            <form id="profileForm">
                <div class="profile-form-group">
                    <label for="profileLogin">–õ–æ–≥–∏–Ω:</label>
                    <input type="text" id="profileLogin" required>
                </div>
                <div class="profile-form-group">
                    <label for="profilePassword">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤):</label>
                    <input type="password" id="profilePassword" minlength="6" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã –Ω–µ –º–µ–Ω—è—Ç—å">
                </div>
                <div class="profile-form-group">
                    <label for="profilePasswordConfirm">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="profilePasswordConfirm" minlength="6" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã –Ω–µ –º–µ–Ω—è—Ç—å">
                </div>
                <div id="profileMessage" class="profile-message"></div>
                <div class="profile-form-actions">
                    <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button type="button" class="btn btn-secondary" onclick="closeProfileModal()">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>
        </div>
    </div>

                    Enter / Shift+Enter ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º<br>
                    Esc ‚Äî –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∏—Å–∫
                </div>
            </div>
        </div>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –æ –∑–∞–¥–∞—á–∞—Ö –∏–∑ Excel —Ñ–∞–π–ª–∞
        // ========== –ü–û–õ–£–ß–ï–ù–ò–ï COMPANY –ò–ó URL ==========
        function getCompanyFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('company') || localStorage.getItem('gantt-company') || null;
        }

        let currentCompany = getCompanyFromURL();
        if (currentCompany) {
            localStorage.setItem('gantt-company', currentCompany);
            console.log('üè¢ –¢–µ–∫—É—â–∞—è –∫–æ–º–ø–∞–Ω–∏—è:', currentCompany);
        } else {
            console.warn('‚ö†Ô∏è –ö–æ–º–ø–∞–Ω–∏—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∏–∑ URL –∏–ª–∏ localStorage');
        }

        // –§—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ (–º–∞–∫—Å–∏–º—É–º 80 —Å–∏–º–≤–æ–ª–æ–≤ –≤ —Å—Ç—Ä–æ–∫–µ)
        function formatCommentForTooltip(text) {
            if (!text) return '';
            const maxLength = 80;
            const words = text.split(/\s+/);
            const lines = [];
            let currentLine = '';

            for (let i = 0; i < words.length; i++) {
                const word = words[i];
                const testLine = currentLine ? currentLine + ' ' + word : word;

                if (testLine.length <= maxLength) {
                    // –°–ª–æ–≤–æ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–æ–∫—É
                    currentLine = testLine;
                } else {
                    // –°–ª–æ–≤–æ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è
                    if (currentLine) {
                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–æ–∫—É –∏ –Ω–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—É—é
                        lines.push(currentLine);
                        currentLine = word;
                    } else {
                        // –°–ª–æ–≤–æ –¥–ª–∏–Ω–Ω–µ–µ maxLength —Å–∏–º–≤–æ–ª–æ–≤ - —Ä–∞–∑–±–∏–≤–∞–µ–º –µ–≥–æ
                        if (word.length > maxLength) {
                            // –ï—Å–ª–∏ —Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–µ –ø—É—Å—Ç–∞, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –µ—ë
                            if (currentLine) {
                                lines.push(currentLine);
                                currentLine = '';
                            }
                            // –†–∞–∑–±–∏–≤–∞–µ–º –¥–ª–∏–Ω–Ω–æ–µ —Å–ª–æ–≤–æ
                            let remainingWord = word;
                            while (remainingWord.length > maxLength) {
                                lines.push(remainingWord.substring(0, maxLength));
                                remainingWord = remainingWord.substring(maxLength);
                            }
                            currentLine = remainingWord;
                        } else {
                            currentLine = word;
                        }
                    }
                }
            }

            // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç—Ä–æ–∫—É
            if (currentLine) {
                lines.push(currentLine);
            }

            return lines.join('\n');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–∞–Ω—å—à–µ, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∏–∂–µ)
        function showAuthButtons() {
            const ganttMode = localStorage.getItem('gantt-mode') || 'edit';
            const isViewMode = ganttMode === 'view';
            
            // –í —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            if (isViewMode) {
                return;
            }
            
            const profileBtn = document.getElementById('profileBtn');
            const companiesBottomBtn = document.getElementById('companiesBottomBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            
            console.log('üîß showAuthButtons called', { 
                profileBtn: !!profileBtn, 
                companiesBottomBtn: !!companiesBottomBtn,
                logoutBtn: !!logoutBtn 
            });
            
            if (profileBtn) {
                profileBtn.style.display = 'flex';
                profileBtn.style.visibility = 'visible';
                profileBtn.style.opacity = '1';
            }
            if (companiesBottomBtn) {
                companiesBottomBtn.style.display = 'flex';
                companiesBottomBtn.style.visibility = 'visible';
                companiesBottomBtn.style.opacity = '1';
                console.log('‚úÖ –ù–∏–∂–Ω—è—è –∫–Ω–æ–ø–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π –ø–æ–∫–∞–∑–∞–Ω–∞ —á–µ—Ä–µ–∑ showAuthButtons');
            }
            if (logoutBtn) {
                logoutBtn.style.display = 'flex';
                logoutBtn.style.visibility = 'visible';
                logoutBtn.style.opacity = '1';
            }
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å—Ä–∞–∑—É, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        (function checkAuthButtons() {
            const userStr = localStorage.getItem('gantt-user');
            const ganttMode = localStorage.getItem('gantt-mode') || 'edit';
            const isViewMode = ganttMode === 'view';
            
            // –í —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            if (isViewMode) {
                return;
            }
            
            if (userStr) {
                // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –∫–Ω–æ–ø–æ–∫
                const tryShowButtons = () => {
                    const companiesBottomBtn = document.getElementById('companiesBottomBtn');
                    const profileBtn = document.getElementById('profileBtn');
                    const logoutBtn = document.getElementById('logoutBtn');
                    
                    if (companiesBottomBtn) {
                        companiesBottomBtn.style.display = 'flex';
                        companiesBottomBtn.style.visibility = 'visible';
                        companiesBottomBtn.style.opacity = '1';
                        console.log('‚úÖ –ö–Ω–æ–ø–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π –ø–æ–∫–∞–∑–∞–Ω–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã');
                    }
                    if (profileBtn) {
                        profileBtn.style.display = 'flex';
                        profileBtn.style.visibility = 'visible';
                    }
                    if (logoutBtn) {
                        logoutBtn.style.display = 'flex';
                        logoutBtn.style.visibility = 'visible';
                    }
                };
                
                // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ DOM
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', function() {
                        tryShowButtons();
                        setTimeout(tryShowButtons, 100);
                        setTimeout(tryShowButtons, 500);
                    });
                } else {
                    tryShowButtons();
                    setTimeout(tryShowButtons, 100);
                    setTimeout(tryShowButtons, 500);
                }
            }
        })();
        
        // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ —É—Ö–æ–¥–µ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('beforeunload', function() {
            if (currentCompany && !isViewMode) {
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ä–∞–∑—É —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
                if (saveTimeout) {
                    clearTimeout(saveTimeout);
                    saveTimeout = null;
                }
                
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º navigator.sendBeacon –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                try {
                    // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤, –≤–∫–ª—é—á–∞—è Praktis ID
                    const snapshot = createFullGanttSnapshot();
                    const companyParam = `?company=${currentCompany}`;
                    // sendBeacon —Ç—Ä–µ–±—É–µ—Ç FormData –∏–ª–∏ Blob, –Ω–æ –Ω–∞—à API –æ–∂–∏–¥–∞–µ—Ç JSON
                    // –ü–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ã—á–Ω—ã–π fetch —Å keepalive
                    fetch(`/api/gantt-state${companyParam}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(snapshot),
                        keepalive: true // –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—É –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                    }).catch(e => console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∏ —É—Ö–æ–¥–µ:', e));
                    console.log('üíæ –ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø—Ä–∏ —É—Ö–æ–¥–µ');
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∏ —É—Ö–æ–¥–µ:', e);
                }
            }
        });

        // ========== –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –¢–ï–ú–´ ==========
        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
        function toggleTheme() {
            const html = document.documentElement;
            const themeToggleBtn = document.getElementById('themeToggleBtn');
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏
            if (themeToggleBtn) {
                themeToggleBtn.classList.add('animating');
                
                // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
                setTimeout(() => {
                    themeToggleBtn.classList.remove('animating');
                }, 1200);
            }
            
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('gantt-theme', newTheme);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç –Ω–∞–¥–ø–∏—Å–∏ DeadLinePro
            const label = document.getElementById('deadlineProLabel');
            if (label) {
                label.style.color = newTheme === 'dark' ? 'rgba(66, 165, 245, 0.3)' : 'rgba(33, 150, 243, 0.5)';
            }
            
            console.log(`‚úÖ –¢–µ–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∞ –Ω–∞: ${newTheme}`);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function initTheme() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ç–µ–º—É –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            const savedTheme = localStorage.getItem('gantt-theme');
            const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            const theme = savedTheme || systemTheme;
            
            document.documentElement.setAttribute('data-theme', theme);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç –Ω–∞–¥–ø–∏—Å–∏ DeadLinePro
            const label = document.getElementById('deadlineProLabel');
            if (label) {
                label.style.color = theme === 'dark' ? 'rgba(66, 165, 245, 0.3)' : 'rgba(33, 150, 243, 0.5)';
            }
            
            console.log(`‚úÖ –¢–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞: ${theme}`);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        initTheme();

        // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞
        function ensureThemeToggleVisible() {
            const themeToggleBtn = document.getElementById('themeToggleBtn');
            if (themeToggleBtn) {
                themeToggleBtn.style.display = 'flex';
                themeToggleBtn.style.visibility = 'visible';
                themeToggleBtn.style.opacity = '1';
                console.log('‚úÖ –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã —Å–¥–µ–ª–∞–Ω–∞ –≤–∏–¥–∏–º–æ–π');
            }
        }

        // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ DOM
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', ensureThemeToggleVisible);
        } else {
            ensureThemeToggleVisible();
        }

        // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤—ã–±—Ä–∞–ª —Ç–µ–º—É –≤—Ä—É—á–Ω—É—é, —Å–ª–µ–¥—É–µ–º —Å–∏—Å—Ç–µ–º–Ω–æ–π
            if (!localStorage.getItem('gantt-theme')) {
                const theme = e.matches ? 'dark' : 'light';
                document.documentElement.setAttribute('data-theme', theme);
            }
        });

        // ========== –†–ï–ñ–ò–ú –î–û–°–¢–£–ü–ê ==========
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∂–∏–º –∏–∑ localStorage (edit –∏–ª–∏ view)
        const ganttMode = localStorage.getItem('gantt-mode') || 'edit';
        const isViewMode = ganttMode === 'view';
        
        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        function canEdit() {
            if (isViewMode) {
                return false;
            }
            return true;
        }
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–µ–∂–∏–º–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        if (isViewMode) {
            document.body.classList.add('view-mode');
            document.addEventListener('DOMContentLoaded', function() {
                const style = document.createElement('style');
                style.textContent = `
                    body::after {
                        content: '–†–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞';
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: rgba(100, 180, 255, 0.9);
                        color: white;
                        padding: 10px 20px;
                        border-radius: 20px;
                        font-size: 14px;
                        font-weight: 600;
                        z-index: 10000;
                        box-shadow: 0 4px 15px rgba(100, 180, 255, 0.3);
                        pointer-events: none;
                    }
                `;
                document.head.appendChild(style);
            });
        }

        let projectData = [
            {
                stage: "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–æ–≤–æ–π –≤–µ—Ç–∫–∏ –ü–û",
                control: "",
                task: "–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ü–û ICONA (—Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å)",
                days: 14,
                substage: ""
            },
            {
                stage: "–≠—Ç–∞–ø 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É",
                task: "–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–∞ (Excel)",
                days: 3,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 1"
            },
            {
                stage: "–≠—Ç–∞–ø 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É",
                task: "–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º –æ–±—ä–µ–∫—Ç–∞",
                days: 3,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 2"
            },
            {
                stage: "–≠—Ç–∞–ø 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É",
                task: "–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Å–ø–æ—Ä—Ç–∞ –æ–±—ä–µ–∫—Ç–∞, –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Ä–æ–ª—è–º",
                days: 2,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 3"
            },
            {
                stage: "–≠—Ç–∞–ø 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É",
                task: "–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Å—Ö–µ–º –≤ –ü–û ICONA",
                days: 2,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 4"
            },
            {
                stage: "–≠—Ç–∞–ø 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É",
                task: "–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ª–∏–≤–∫–∏ –ª–æ–∫–∞—Ü–∏–π –Ω–∞ —Å—Ö–µ–º–∞—Ö",
                days: 3,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 5"
            },
            {
                stage: "–≠—Ç–∞–ø 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É",
                task: "–°–æ–∑–¥–∞–Ω–∏–µ –¢–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ (–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –°–ú–†)",
                days: 11,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 6"
            },
            {
                stage: "–≠—Ç–∞–ø 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É",
                task: "–†–∞—Å—á–µ—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –°–¢–ö",
                days: 10,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 7"
            },
            {
                stage: "–≠—Ç–∞–ø 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É",
                task: "–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –°–¢–ö (–ø—Ä–∏–≤—è–∑–∫–∞ –°–¢–ö –∫ –ª–æ–∫–∞—Ü–∏—è–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–∞)",
                days: 3,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 8"
            },
            {
                stage: "–≠—Ç–∞–ø 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É",
                task: "–ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤ –∏ –ø—Ä–∏–≤—è–∑–∫–∞ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞ –∫ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏",
                days: 3,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 9"
            },
            {
                stage: "–≠—Ç–∞–ø 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É",
                task: "–°–æ–∑–¥–∞–Ω–∏–µ –î–∏—Ä–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏ –†–∞–±–æ—á–µ–≥–æ –ì–ü–†",
                days: 17,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 10"
            },
            {
                stage: "–≠—Ç–∞–ø 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–æ–¥–µ–ª–∏",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É",
                task: "–ü—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–∞ –≤ –ü–û ICONA –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ (web, desktop –∏ android –≤–µ—Ä—Å–∏–∏)",
                days: 15,
                substage: "–ö–æ–Ω—Ç—Ä–æ–ª—å"
            },
            {
                stage: "–≠—Ç–∞–ø 2. –û–±—É—á–µ–Ω–∏–µ –ü–ª–∞–Ω–µ—Ä–∫–∞",
                control: "ICONA –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                task: "–û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –ø–æ —ç—Ç–∞–ø–∞–º",
                days: 2,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 1"
            },
            {
                stage: "–≠—Ç–∞–ø 2. –û–±—É—á–µ–Ω–∏–µ –ü–ª–∞–Ω–µ—Ä–∫–∞",
                control: "ICONA –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                task: "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ICONA –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —à—Ç—Ä–∞—Ñ–æ–≤)",
                days: 2,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 2"
            },
            {
                stage: "–≠—Ç–∞–ø 2. –û–±—É—á–µ–Ω–∏–µ –ü–ª–∞–Ω–µ—Ä–∫–∞",
                control: "ICONA –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                task: "–°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∫–æ–Ω—Ç—Ä–æ–ª—è",
                days: 1,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 3"
            },
            {
                stage: "–≠—Ç–∞–ø 2. –û–±—É—á–µ–Ω–∏–µ –ü–ª–∞–Ω–µ—Ä–∫–∞",
                control: "ICONA –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                task: "–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞ –ø–ª–æ—â–∞–¥–∫–µ (android)",
                days: 2,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 4"
            },
            {
                stage: "–≠—Ç–∞–ø 2. –û–±—É—á–µ–Ω–∏–µ –ü–ª–∞–Ω–µ—Ä–∫–∞",
                control: "ICONA –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                task: "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫–ª–∞–¥–∞ (ICONA –∞–≤—Ç–æ–¥–æ–∫–ª–∞–¥)",
                days: 3,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 5"
            },
            {
                stage: "–≠—Ç–∞–ø 2. –û–±—É—á–µ–Ω–∏–µ –ü–ª–∞–Ω–µ—Ä–∫–∞",
                control: "ICONA –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                task: "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø–ª–∞–Ω–µ—Ä–∫–µ –∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –ø–ª–∞–Ω–µ—Ä–∫–∏",
                days: 2,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 6"
            },
            {
                stage: "–≠—Ç–∞–ø 2. –û–±—É—á–µ–Ω–∏–µ –ü–ª–∞–Ω–µ—Ä–∫–∞",
                control: "ICONA –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                task: "–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –ø–æ—Å–ª–µ –ø–ª–∞–Ω–µ—Ä–∫–∏",
                days: 1,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 7"
            },
            {
                stage: "–≠—Ç–∞–ø 2. –û–±—É—á–µ–Ω–∏–µ –ü–ª–∞–Ω–µ—Ä–∫–∞",
                control: "ICONA –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                task: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤",
                days: 6,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 8"
            },
            {
                stage: "–≠—Ç–∞–ø 3. –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—é",
                task: "–û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –ò–°–ö –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞",
                days: 2,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 1"
            },
            {
                stage: "–≠—Ç–∞–ø 3. –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—é",
                task: "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –°–¢–ö",
                days: 20,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 2"
            },
            {
                stage: "–≠—Ç–∞–ø 3. –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—é",
                task: "–û–±—É—á–µ–Ω–∏–µ –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤ ICONA –í—ã–∑–æ–≤ —Ç–µ—Ö–Ω–∞–¥–∑–æ—Ä–∞ (web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)",
                days: 10,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 3"
            },
            {
                stage: "–≠—Ç–∞–ø 3. –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—é",
                task: "–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –ò–°–ö –Ω–∞ –ø–ª–æ—â–∞–¥–∫–µ (android)",
                days: 10,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 4"
            },
            {
                stage: "–≠—Ç–∞–ø 3. –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å",
                control: "ICONA –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—é",
                task: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤",
                days: 9,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 5"
            },
            {
                stage: "–≠—Ç–∞–ø 4. –ü—Ä–∏–µ–º–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä",
                control: "ICONA –ü—Ä–∏–µ–º–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä",
                task: "–û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–µ–º–∫–∏ –∫–≤–∞—Ä—Ç–∏—Ä –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞",
                days: 5,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 1"
            },
            {
                stage: "–≠—Ç–∞–ø 4. –ü—Ä–∏–µ–º–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä",
                control: "ICONA –ü—Ä–∏–µ–º–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä",
                task: "–û–±—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–µ–º–∫–∏ –∫–≤–∞—Ä—Ç–∏—Ä",
                days: 4,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 2"
            },
            {
                stage: "–≠—Ç–∞–ø 4. –ü—Ä–∏–µ–º–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä",
                control: "ICONA –ü—Ä–∏–µ–º–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä",
                task: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤",
                days: 3,
                substage: "–ü–æ–¥–∑–∞–¥–∞—á–∞ 3"
            }
        ];

        // –°–∫–µ–ª–µ—Ç –≥—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è —Ç–∏–ø–∞ "Praktis ID"
        let projectDataPraktis = [
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–¥–∞—á –¥–ª—è Praktis ID
            // –ü–æ–∫–∞ –æ—Å—Ç–∞–≤–ª—è–µ–º –ø—É—Å—Ç—ã–º, –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é
        ];

        // –†–æ—Å—Å–∏–π—Å–∫–∏–µ –≤—ã—Ö–æ–¥–Ω—ã–µ –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏
        const holidays = [
            "2025-01-01", "2025-01-02", "2025-01-03", "2025-01-04", "2025-01-05",
            "2025-01-06", "2025-01-07", "2025-01-08", "2025-02-23", "2025-03-08",
            "2025-05-01", "2025-05-09", "2025-06-12", "2025-11-04"
        ];

        const INITIAL_START_DATE = new Date(2025, 0, 9); // 9 —è–Ω–≤–∞—Ä—è 2025 (–¥–µ—Ñ–æ–ª—Ç –¥–ª—è —Å–±—Ä–æ—Å–∞)
        let startDate = new Date(INITIAL_START_DATE); // —Ç–µ–∫—É—â–µ–µ –Ω–∞—á–∞–ª–æ –ø—Ä–æ–µ–∫—Ç–∞
        let tasks = [];
        // –°—á—ë—Ç—á–∏–∫ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö id –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á (–ø–æ–≤–µ—Ä—Ö –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞)
        let nextTaskId = projectData.length;
        let currentView = 'gantt';
        // –°—Ç–∏–ª—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–∞—Ä–æ–≤ –≤ –ì–∞–Ω—Ç–µ: 'dots' (–∫–∞–∫ —Å–µ–π—á–∞—Å, —Ç–æ—á–∫–∏/–∫–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç—Ä–µ–∑–∫–∏)
        // –∏–ª–∏ 'segments' (—Å–ª–∏—Ç–Ω—ã–µ –ø–æ–ª–æ—Å—ã –±–µ–∑ –ø–æ–∫—Ä–∞—Å–∫–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º –¥–Ω—è–º)
        let ganttBarStyle = 'dots';
        // –§–ª–∞–≥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–ª–æ–Ω–∫–∏ "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π"
        let showLink = false;
        let showResponsible = false;
        // –û–∂–∏–¥–∞—é—â–∏–π –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
        let pendingStatusForComment = null;
        // –¢–µ–∫—É—â–∏–π –º–∞—Å—à—Ç–∞–± –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ì–∞–Ω—Ç–∞ (day/week/month)
        let currentScaleMode = 'day';
        // –û–∂–∏–¥–∞—é—â–∏–π –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –º–∞—Å—à—Ç–∞–±–µ
        let pendingStatusAfterScaleWarning = null;
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π target –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –º–∞—Å—à—Ç–∞–±–µ
        let pendingStatusTargetAfterScaleWarning = null;
        // –û–∂–∏–¥–∞—é—â–∏–π –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å –∏–∑ —Ç–∞–±–ª–∏—Ü—ã (–∏–Ω–¥–µ–∫—Å –∑–∞–¥–∞—á–∏ –∏ –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å)
        let pendingStatusFromTable = null;
        let zoomLevel = 1; // 1 = 100%, –≤–ª–∏—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —à–∏—Ä–∏–Ω—É –∫–æ–ª–æ–Ω–æ–∫
        let viewStartDate = null; // –µ—Å–ª–∏ –∑–∞–¥–∞–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞–∫ –ª–µ–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        let viewEndDate = null;   // –µ—Å–ª–∏ –∑–∞–¥–∞–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞–∫ –ø—Ä–∞–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        let isExporting = false;  // —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –¥–ª—è PDF
        let saveTimeout = null; // —Ç–∞–π–º–µ—Ä –¥–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        
        // –°–∏—Å—Ç–µ–º–∞ –∏—Å—Ç–æ—Ä–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –æ—Ç–º–µ–Ω—ã (undo)
        const MAX_UNDO_HISTORY = 10;
