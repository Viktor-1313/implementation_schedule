# Инструкция по исправлению фиксации столбцов

## Проблема
Тоглы в первой строке диаграммы Ганта не фиксируют столбцы при включении.

## Решение

### Шаг 1: Откройте файл
Откройте файл `1/implementation_schedule.html` в редакторе кода (VS Code, Notepad++, или другой).

### Шаг 2: Найдите функцию
Найдите функцию `updateStickyColumns()` (примерно строка 10033). Можно использовать поиск (Ctrl+F) по тексту: `function updateStickyColumns`

### Шаг 3: Замените функцию
Замените ВСЮ функцию `updateStickyColumns()` (от `function updateStickyColumns() {` до закрывающей скобки `}`) на код из файла `FIX_STICKY_FUNCTION.js`.

**Важно:** 
- Замените функцию полностью, включая все фигурные скобки
- Сохраните правильные отступы (используйте те же отступы, что были в оригинале)

### Шаг 4: Проверьте вызовы функции
Убедитесь, что функция вызывается после `renderGantt()`. Должны быть вызовы:
- После `renderGantt()` в функции `renderGantt()` (примерно строка 12588)
- После `renderGantt()` и `renderTable()` в других местах (примерно строка 24956)

### Шаг 5: Сохраните и проверьте
1. Сохраните файл (Ctrl+S)
2. Обновите страницу в браузере (F5 или Ctrl+R)
3. Откройте консоль браузера (F12) и проверьте, нет ли ошибок
4. Включите тогл для любого столбца и проверьте, фиксируется ли он при горизонтальной прокрутке

## Отладка

Если столбцы все еще не фиксируются:

1. **Откройте консоль браузера (F12)**
2. **Проверьте сообщения:**
   - Должны быть сообщения `✅ Найдено X элементов для селектора...`
   - Если видите `⚠️ Элементы не найдены для селектора...` - значит селектор неправильный
3. **Проверьте в инспекторе элементов:**
   - Выберите элемент с классом `.gantt-label` или `.gantt-details-cell.start-col`
   - Проверьте, что у него есть стили `position: sticky` и `left: Xpx`
4. **Проверьте родительский контейнер:**
   - Элемент `.chart-container` должен иметь `overflow-x: auto` или `overflow-x: scroll`
   - Элемент `.gantt-chart` должен быть внутри `.chart-container`

## Альтернативный способ (если файл заблокирован)

Если файл заблокирован и не получается сохранить:

1. Закройте все вкладки браузера с этим файлом
2. Закройте все редакторы, где открыт этот файл
3. Попробуйте снова открыть и редактировать файл

## Что было исправлено

1. ✅ Добавлен `requestAnimationFrame` для правильной работы после рендеринга
2. ✅ Исправлены селекторы (добавлен префикс `.gantt-details-cell.` для всех колонок)
3. ✅ Добавлена проверка наличия элементов с предупреждениями в консоль
4. ✅ Добавлено логирование для отладки
